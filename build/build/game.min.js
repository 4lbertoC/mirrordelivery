/* 1.0.1 http://github.com/4lbertoC/mirrordelivery */var ka={};
(function(b){function w(b,c){return c?l(b&255)+w(b>>8,c-1):""}var p=this.ta=b||44100,u=2*p,l=String.fromCharCode,e;this.Ka=function(b){var c=Audio,l=btoa,k="",C=b.length;for(s=0;s<C;s++)var N=32767*b[s]|0,N=-32768>N?-32768:32767<N?32767:N,N=N+(0>N?65536:0),k=k+String.fromCharCode(N&255,N>>8);b=k;b=["RIFF",36+(e=b.length),"WAVEfmt ",16,1,1,p,u,2,16,"data",e,b];k="";for(s=0;s<b.length;s++)k+="s"=="s4s4224422s4s"[s]?b[s]:w(b[s],"s4s4224422s4s".charCodeAt(s)-48);return new c("data:audio/wav;base64,"+l(k))};
var k,s,A=Math.sin,c=2*Math.PI;this.filter=function(b,c,e,p,C,l,w,u,A,P){e=e?e:1;p=p?p:b.length;k=b.slice(0);for(s=e;s<p;s++)k[s]=c(b,k,e,p,s,C,l,w,u,A,P);return k};this.filters={Qa:function(b,c,e,p,C,k){return c[C-1]+k*(b[C]-c[C-1])},Ra:function(b,c,e,p,k,l){return c[k-1]+l*(p-k)/(p-e)*(b[k]-c[k-1])},Pa:function(b,c,e,p,k,l){return l*(c[k-1]+b[k]-b[k-1])}};this.va=function(b,e,k,l,w,u,A,D,la){e=e*c/p;var P=Array(b|0);for(s=0;s<b;s++)P[s]=k(s*e,l,w,u,A,D,la);return P};var D=0;this.L={La:function(b){4>
b%c&&(D=2*Math.random()-1);return D},Sa:Math.random,Na:Math.sin,Oa:function(b){return A(b)+0.5*A(b/2)+0.3*A(b/4)},Ma:function(b){return 2*(b/c-(b/c+0.5|0))},xa:function(b,c){return A(b)>c?1:A(b)<c?-1:c}}}).apply(ka);var Ba={};
(function(){this.ca=[];this.$={square:ka.L.xa,saw:ka.L.Ma,sine:ka.L.Na,noise:ka.L.La,synth:ka.L.Oa};this.Ga=function(){var b=[],w;for(w in this.$)b.push(w);return b};this.Ha=function(){function b(b,e,k,u,A){void 0===A&&(A=(k-e)/1E3);b={name:b,id:b.replace(/ /g,""),min:e,max:k,step:A,Fa:u,type:"range",group:p};w.push(b)}var w=[],p=0,u=this.Ga();(function(b,e,k){b={name:b,id:b.replace(/ /g,""),options:e,Fa:k,type:"option",group:p};w.push(b)})("Generator",u,u[0]);b("SuperSamplingQuality",0,16,0,1);b("MasterVolume",
0,1,0.4);p++;b("AttackTime",0,1,0.1);b("SustainTime",0,2,0.3);b("SustainPunch",0,3,2);b("DecayTime",0,2,1);p++;b("MinFrequency",20,2400,0,1);b("StartFrequency",20,2400,440,1);b("MaxFrequency",20,2400,2E3,1);b("Slide",-1,1,0);b("DeltaSlide",-1,1,0);p++;b("VibratoDepth",0,1,0);b("VibratoFrequency",0.01,48,8);b("VibratoDepth Slide",-0.3,1,0);b("VibratoFrequencySlide",-1,1,0);p++;b("ChangeAmount",-1,1,0);b("ChangeSpeed",0,1,0.1);p++;b("SquareDuty",0,0.5,0);b("SquareDutySweep",-1,1,0);p++;b("RepeatSpeed",
0,0.8,0);p++;b("PhaserOffset",-1,1,0);b("PhaserSweep",-1,1,0);p++;b("LPFilterCutoff",0,1,1);b("LPFilterCutoffSweep",-1,1,0);b("LPFilterResonance",0,1,0);b("HPFilterCutoff",0,1,0);b("HPFilterCutoffSweep",-1,1,0);return w};this.va=function(b){var w=2*Math.PI,p=Math.sin,u=Math.pow,l=Math.abs,e=ka.ta,k=b.SuperSamplingQuality|0;1>k&&(k=1);for(var e=e*k,s=[{K:0,V:1,time:b.AttackTime},{K:1+b.SustainPunch,V:1,time:b.SustainTime},{K:1,V:0,time:b.DecayTime}],A=s.length,c=0;c<A;c++)s[c].T=1+(s[c].time*e|0);
for(var D=void 0,K=0,T=-1,xa=0,ya=-1,C=0,c=0;c<A;c++)C+=s[c].T;C<e/2&&(C=e/2);var N=Array(C/k|0),O=0,ra=0,la=Ba.$[b.Generator];void 0===la&&(la=this.$.xa);var P=0,P=b.SquareDuty,Ca=b.SquareDutySweep/e,U=0,H=b.StartFrequency*w/e,ea=1+64*u(b.Slide,3)/e,V=u(b.DeltaSlide,3)/(1E3*e);void 0!==k&&(V/=k);b.MinFrequency>b.StartFrequency&&(b.MinFrequency=b.StartFrequency);b.MaxFrequency<b.StartFrequency&&(b.MaxFrequency=b.StartFrequency);for(var Da=b.MinFrequency*w/e,Ea=b.MaxFrequency*w/e,fa=0,ga=b.VibratoFrequency*
w/e,ca=b.VibratoDepth,sa=1+3*u(b.VibratoFrequencySlide,3)/e,ta=b.VibratoDepthSlide/e,ma=0,ua=b.ChangeSpeed*e,na=u(b.ChangeAmount,2),na=0<b.ChangeAmount?1+10*na:1-0.9*na,za=Array(1024),c=0;1024>c;c++)za[c]=0;var va=0,E=1020*u(b.PhaserOffset,2),I=4E3*u(b.PhaserSweep,3)/e,x=1E-5<l(I)||1E-5<l(E),$=0.0010<b.HPFilterCutoff||0.999>b.LPFilterCutoff,ha=0,F=0,W=u(b.LPFilterCutoff,3)/10,La=1+b.HPFilterCutoffSweep/1E4,ia=5/(1+20*u(b.LPFilterResonance,2))*(0.01+b.LPFilterCutoff);0.8<ia&&(ia=0.8);var ia=1-ia,Ma=
0.999>b.LPFilterCutoff,z=0,q=u(b.HPFilterCutoff,2)/10,G=1+b.HPFilterCutoffSweep/1E4,Z=0,aa=C;0<b.RepeatSpeed&&(aa=u(1-b.RepeatSpeed,2)*e+32);for(var Fa=b.MasterVolume,Ga=0,c=0;c<C;c++)O=la(U,P,0),P+=Ca,0>P?P=0:0.5<P&&(P=0.5),Z>aa&&(U=0,H=b.StartFrequency*w/e,ea=1+3*u(b.Slide,3)/e,V=u(b.DeltaSlide,3)/(1E3*e),void 0!==k&&(V/=k),ma=0,ua=b.ChangeSpeed*e,na=1+(b.ChangeAmount|0)/12,Z=0),Z+=1,U+=H,ea+=V,H*=ea,ma>ua&&(H*=na,ua=C),ma+=1,H>Ea?H=Ea:H<Da&&(H=Da),fa+=ga,D=H*p(fa)*ca,U+=D,ga*=sa,ta&&(ca+=ta,0>
ca?ta=ca=0:1<ca&&(ca=1,ta=0)),$&&(0.0010<l(q)&&(q*=G,1E-5>q?q=1E-5:0.1<q&&(q=0.1)),D=ha,W*=La,0>W?W=0:0.1<W&&(W=0.1),Ma?(F+=(O-ha)*W,F*=ia):(ha=O,F=0),ha+=F,z+=ha-D,O=z*=1-q),x&&(E+=I,0>E&&(E=-E,I=-I),1023<E&&(E=1023,I=0),za[va]=O,O+=za[va-(E|0)+1024&1023],va=va+1&1023),c>ya&&(T+=1,D=T<A?s[T]:{K:0,V:0,T:C},K=D.K,xa=(D.V-D.K)/(D.T+1),ya+=D.T),O*=K,K+=xa,O*=Fa,1<k?(ra+=O,0===(c+1)%k&&(N[Ga]=ra/k,Ga+=1,ra=0)):N[c]=O;b=e/100|0;w=Array(b);for(c=0;c<b;c++)w[c]=0;return w.concat(N).concat(w)};this.ca=this.Ha()}).apply(Ba);var Wa={};(function(){this.ua=function(b){b=Ba.va(this.Ea(b));return ka.Ka(b)};this.Ea=function(b){for(var w={},p=Ba.ca.length,u=0;u<p;u++)w[Ba.ca[u].id]=b[u];return w}}).apply(Wa);(function(){var b,w,p,u;function l(g,a,b){g.addEventListener?g.addEventListener(a,b,!1):g.attachEvent?g.attachEvent("on"+a,b):g["on"+a]=b}function e(g,a,b,c,kb,e){var d=W[g].frame,f=W[g].f;g=W[g].frames;c=e?g[Math.floor(e*c/1E3)%g.length]:g[c];kb?t.drawImage(Na,$a-(d.x+c.x)-c.a,d.y+c.y,c.a,c.b,a+f.x,b+f.y,c.a,c.b):t.drawImage(oa,d.x+c.x,d.y+c.y,c.a,c.b,a+f.x,b+f.y,c.a,c.b)}function k(g,a,b,c,d){var e=W[g].frame;g=W[g].f;t.drawImage(oa,e.x,e.y,c||e.a,d||e.b,a+g.x,b+g.y,g.a,g.b)}function s(g){var a=
g.clientX-d.R.left;g=g.clientY-d.R.top;a=Math.max(0,Math.min(a,E-1));g=Math.max(0,Math.min(g,I-1));return[a,g]}function A(g){ba.style.cursor=g?"auto":"none"}function c(g,a){if(ia)try{Ha[g]=Wa.ua(a)}catch(b){}}function D(){try{d.state===q.i&&0<Oa.length&&(ab[Oa.shift()].play(),setTimeout(D,200))}catch(g){}}function K(g){if(ia)try{Ha[g]&&(Ha[g].pause(),Ha[g].currentTime=0,Ha[g].play())}catch(a){}}function T(g,a){var b=document.getElementById(g);l(b,Ia,function(){X.N({keyCode:a})});l(b,Pa,function(){X.O({keyCode:a})})}
function xa(a,b,c){a=document.getElementById(a);l(a,Ia,b);l(a,Pa,c)}function ya(a){var b=a[r.W],c,e,d,f;Qa.P=b;for(var k=L.length=0;k<a[r.l].length;k++)c=a[r.l][k],e=Object.create(Qa),e.size=c,d=document.createElement("canvas"),d.width=Ra+c,d.height=Ra+c,f=d.getContext("2d"),f.fillStyle="yellow",f.fillRect(0,0,Ra+c,Ra+c),f.fillStyle="#000",f.fillText(c,5,10),e.fa=d,d=b[0]+16*k,c=b[1]-c,e.position=[d,c],e.P=[d,c],L.push(e)}function C(g){g=d.m=B[g]||B[v];a.position=g[r.ba].slice();a.I=0;a.ha=0;a.d=
void 0;a.J=bb;a.q=!1;a.v=!1;a.c=!1;a.j=!1;a.p=!1;f.M=cb;f.k=0;f.w=0;f.position=g[r.Z].slice();b=g[r.B].slice();w=[g[r.B][0]+15,g[r.B][1]+23];p=w.slice();u=1;M.position=M.h=null;d.time=0;N(q.g);Q=0;da="4444444444444444444444444444444444444444"+g[r.aa]+"4444444444444444444444444444444444444444";da=da.split("");Aa=null;ya(g);wa.length=0;pa.length=0;J.clearRect(0,0,E,I);J.fillStyle="rgba(0,0,0,0.7)";J.fillRect(0,0,E,I);J.fillStyle="#fff";J.textAlign="center";J.fillText("A 13kB game by Alberto Congiu",
E/2,12);J.font="20px courier";J.fillText(d.m[r.F],E/2,I/2-50);J.fillText("Luke "+d.da+" - "+d.ea+" Crow",E/2,I/2);J.font="15px courier";J.fillText("Click the "+(Y?"screen":"crow")+" to start",E/2,I/2+60);J.fillText("< >: Select level",E/2,I/2+100);J.fillText(g[r.Q]?"E: EDIT   "+(Y?"S":"D")+": DELETE   "+(Y?"A":"J")+": EXPORT   I: IMPORT":"E: EDIT   I: IMPORT",E/2,I/2+120);J.beginPath();J.arc(f.position[0],f.position[1],16,0,360);J.lineWidth=2;J.strokeStyle="#fff";J.stroke();Oa=Ma.slice();window.localStorage&&
(window.localStorage.pa=JSON.stringify(B))}function N(a){d.state=a;if(Y){var b=document.getElementsByClassName("edit");a="btn edit"+(a===q.e?"":" h");for(var c=0;c<b.length;c++)b[c].setAttribute("class",a)}}function O(){N(q.i);d.time=Ja+d.m[r.H];ia&&D();A()}function ra(){d.da+=1;A(!0);K(z.sa);C(v)}function la(){d.ea+=1;A(!0);K(z.la);C(v)}function P(a,b){return Math.round(a[0]/x)===Math.round(b[0]/x)&&Math.round(a[1]/x)===Math.round(b[1]/x)}function Ca(a,b){return Math.atan((b[1]-a[1])/(b[0]-a[0]))}
function U(a,b){return a&&b&&Math.sqrt(Math.pow(a[0]-b[0],2)+Math.pow(a[1]-b[1],2))}function H(a,b){return da[$*Math.floor(b/x)+Math.floor(a/x)]}function ea(a,b,c,e,d){var f=b,k=H(a,f);c=a+c;topRight=H(c,f);bottomRight=H(c,b+e);bottomLeft=H(a,b);return k===d||topRight===d||bottomRight===d||bottomLeft===d}function V(a,b,c,d,e){b+=d;d=H(a,b);bottomLeft=H(a+c,b);return d===e||bottomLeft===e}function Da(){A(!0);d.state===q.e&&(B[v][r.aa]=da.join("").substring($,$*ha-$),B[v][r.ba]=a.position.slice(),B[v][r.Z]=
f.position.slice(),B[v][r.B]=b.slice(),B[v][r.W]=Qa.P.slice());C(v)}function Ea(){var b=a.S,c=fa();a.c||(b=0);b=Math.min(c,b+c/7);a.S=b;return ga(G.o)?c/2:b}function fa(){return Math.max(1,a.speed+a.U-(void 0!==a.d?L[a.d].size:0))}function ga(b){return ea(a.position[0]-8,a.position[1]-32,16,32,b)||ea(a.position[0],a.position[1]-8,0,0,b)}function ca(a){a.preventDefault();if(d.state===q.e)Xa=!Xa;else if(d.state===q.i&&f.w<Ja)if(a=s(a),(V(f.position[0]-8,f.position[1]-8,16,16,G.t)||ea(f.position[0],
f.position[1],0,0,G.t))&&f.k<Ga)K(z.Y),f.k++;else{var b;for(b=0;b<wa.length;b++)if(P(a,wa[b].position)){f.k=Math.max(f.k,lb);K(z.Y);wa.splice(b,1);break}}}function sa(){if(d.state===q.e)if(Q<Z){var g=$*Math.floor(y[1]/x)+Math.floor(y[0]/x);g<da.length&&(da[g]=""+Q)}else if(Q===aa.qa)a.position=y.slice();else if(Q===aa.s)f.position=y.slice();else if(Q===aa.A)b=y.slice(),w=[b[0]+15,b[1]+23],p=w.slice();else{if(Q===aa.l)for(Qa.P=y.slice(),g=0;g<L.length;g++){var c=L[g];c.position[0]=y[0]+16*g;c.position[1]=
y[1]-c.size}}else d.state!==q.g||Y?0<f.k&&f.w<Ja&&(f.k--,K(z.ka),g=Object.create(mb),g.position=f.position.slice(),pa.push(g)):y[0]>f.position[0]-16&&(y[0]<f.position[0]+16&&y[1]>f.position[1]-16&&y[1]<f.position[1]+16)&&O()}function ta(a){f.w=a+nb;K(z.na);f.k=0;f.M--;0>=f.M?ra():f.M<db&&ma(a)}function ma(a){if(!Aa){Aa=[];for(var b=0;b<da.length;b++)da[b]===G.u&&Aa.push(b)}b=Aa[Math.floor(Math.random()*Aa.length)]+1;b=[b%$*x,Math.floor(b/$)*x];M.h=[b[0]-6,b[1]-10];M.position||(M.position=M.h.slice());
M.wa=a+ob;u+=0.05}function ua(b,c){K(z.ra);a.d=void 0;b.position=b.P.slice();a.J--;0>=a.J?la():a.J<db&&ma(c)}function na(b){var a=b||B[v];b=[b?a[r.F]:"CustomLevel"+pb++,a[r.ba].slice(),a[r.Z].slice(),a[r.W].slice(),a[r.B].slice(),a[r.H],a[r.aa],a[r.l].slice(),null,!0];B.push(b);d.state===q.g&&(v=B.length-1,C(v))}function za(a,b,c){var d=null,e=M.position?"#c29":"#00deff";a===G.u?d=F.u:a===G.G?d=F.G:a===G.Da?e="#000":a===G.ma?e="#0f0":a===G.t?d=F.t:a===G.o?d=F.o:a===G.n&&(d=F.n);t.fillStyle=e;t.fillRect(b,
c,x,x);null!==d&&k(d,b,c,x,x)}function va(a){if(a.position&&a.h){var b=Ca(a.position,a.h),c=a.position[0]>a.h[0]?-1:1,d=Math.abs(a.position[0]-a.h[0]),e=Math.abs(a.position[1]-a.h[1]);if(3<d||3<e){var f=16*Math.cos(b)*c,b=16*Math.sin(b)*c;Math.abs(f)>d&&(f=d*f/Math.abs(f));Math.abs(b)>e&&(b=e*b/Math.abs(b));a.position[0]+=f;a.position[1]+=b}}}var E=640,I=400,x=16,$=E/x,ha=I/x,F={s:0,Ba:1,n:2,A:3,o:4,D:5,t:6,G:7,Ca:8,u:9,ya:10,za:11},W=[{frame:{x:30,y:0,a:30,b:14},f:{x:1,y:1,a:30,b:14},frames:[{x:1,
y:1,a:15,b:11},{x:17,y:1,a:15,b:13}]},{frame:{x:14,y:40,a:14,b:8},f:{x:1,y:7,a:14,b:8}},{frame:{x:32,y:14,a:16,b:16},f:{x:0,y:0,a:16,b:16}},{frame:{x:0,y:24,a:14,b:24},f:{x:1,y:7,a:14,b:24}},{frame:{x:16,y:48,a:16,b:16},f:{x:0,y:0,a:16,b:16}},{frame:{x:0,y:0,a:30,b:24},f:{x:1,y:3,a:30,b:24},frames:[{x:0,y:0,a:15,b:24},{x:16,y:0,a:13,b:24}]},{frame:{x:48,y:14,a:16,b:10},f:{x:0,y:10,a:16,b:10}},{frame:{x:14,y:24,a:16,b:16},f:{x:0,y:0,a:16,b:16}},{frame:{x:31,y:32,a:6,b:14},f:{x:4,y:1,a:6,b:14}},{frame:{x:0,
y:48,a:16,b:16},f:{x:0,y:0,a:16,b:16}},{frame:{x:36,y:32,a:11,b:13},f:{x:0,y:0,a:12,b:13}},{frame:{x:49,y:25,a:15,b:16},f:{x:0,y:0,a:15,b:16}}],La=[523.25,587.33,659.26,698.46,783.99,880,987.77,1046.5,1108.73],ia=!(!window.btoa||!window.atob),Ma="023123467".split(""),z={oa:0,ra:1,ka:2,Aa:3,X:4,ja:5,sa:6,la:7,ia:8,Y:9,n:10,na:11},q={g:0,i:1,e:2},G={EMPTY:"0",u:"1",o:"2",G:"3",Da:"4",ma:"5",t:"6",n:"7"},Z=8,aa={qa:Z+0,s:Z+1,A:Z+2,l:Z+3},Fa=Z+4,Ga=3,lb=5,nb=5E3,cb=10,db=4,ob=2E3,bb=10,Ra=12,eb=[1,-6],
r={F:0,ba:1,Z:2,W:3,B:4,H:5,aa:6,l:7,C:8,Q:9},ba=document.getElementById("C"),t=ba.getContext("2d"),oa=new Image,Na=document.createElement("canvas"),$a=0,Sa=document.createElement("canvas"),J=Sa.getContext("2d"),Ha=[],ab={},Oa=null,y=[0,0],Ta=!1,X={ga:{},O:function(a){X.ga[a.keyCode]=void 0},N:function(a){X.ga[a.keyCode]=Ja}},Y=!1,Ka=document.getElementById("o"),ja=Ka.getBoundingClientRect(),fb=[100,100],Ya=!1,qa=null,Ia=null,Pa=null,gb=null,Ja=0,d={state:q.g,R:ba.getBoundingClientRect(),time:0,da:0,
ea:0,m:null},da=[],Aa=null,Q=0,Xa=!1,a={position:null,speed:4,S:0,U:0,ha:0,Ja:2,Ia:-7,v:!1,j:!1,c:!1,q:!1,r:0,d:void 0,I:0,J:bb,p:!1},f={position:null,h:null,k:0,w:0,M:cb};p=w=b=null;u=1;var M={position:null,h:null,wa:0},Qa={fa:null,size:1,position:null,P:[0,0]},L=[],qb={position:null},wa=[],mb={position:null,speed:6},pa=[],hb=[["Tutorial",[33,370],[E-24,55],[300,365],[20,70],3E6,"00000000000000000000000000000000000000000000000000000000000000000000000000000000330000000000000000000000000000000000006000000000000000000000000000000000000000110000000000033300000000000006000000000000110000000003330000000000001110000000000000000000000333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003333333333333333333333333333333333333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005500000000000000000000000000000000000000550000000000007000000000000002000000000111111111111111111111111111111200000000000000000000000000000000000000020000000000000000000000000000000000000002000000000000000000000000000000000000000200000000000000000000000000000000000000020000000001111111111111111111111111111111111111111",
[1],[[20,340,["PLAYER 1"]],[100,340,["ARROWS: move/jump"]],[250,340,[(Y?"I":"SPACEBAR")+": grab/release crate"]],[500,340,["UP/DOWN: Climb"]],[450,250,["Crates break if you fall from too high"]],[160,250,[(Y?"I":"SPACEBAR")+": buy candies when not holding crate","E: Use candy to gain speed"]],[10,230,["Deliver crate to green area"]],[560,30,["PLAYER 2",(Y?"analogPad":"Mouse")+": move"]],[390,80,["Hide from granny in nest"]],[390,130,[(Y?"A":"RClick")+": eat from nest or crumbs",(Y?"S":"LClick")+": shoot!"]],
[150,70,["Don't touch roofs or Luke"]]]],["Level 1",[25,366],[616,24],[41,364],[513,180],6E4,"00000000000000000000000000000000000000600000000000000000000000000000000000000011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000003330000000000000000000000000000000000003333300000000000000000000000000000000000000000000000000000000000000000000000000000550000020000000000000200000000000000000055020002000111111111120000333000000000111112000200133333330002000000000000000000000200021130000000000200000000000000000000020002000000000000020000000000000000000002000200020000000002111111100111001101111100111112000000000200000000000000000000000033333200000000000000000000000000000000000000020000000000000000000000000000000000000002000000000000000000000000000000000000000200000000000000000000000000000000001111111111111111111111111111111111111111",
[1,2]],["Level 2",[28,143],[600,296],[588,365],[51,50],12E4,"33330000000000000000000000000000000000000000000000000033000000000330000000000000055000000000000000000000000000000000000005500000000000000003030000000000000000001111111000000000000030000000000000110010000000010000000000000000000000000100301000000000000200000200000200000200000000100000000011120111102000201111021113002010111100000002000000020200000002000000211100000000000100000000200000000100000020000000000000000000000000000000000002002000000000000000000000000000000000030211100000001110000000000000000000000030020000000000000000000000003333300000000002000000000000000000000000000000000003020200000000000001100000000000000000000002110000000000000000000000000020700000020200000000000000000000000000112110000002020000060000000000010000000000200000000201000011100000000000000000000020000000020000000000000000000000000000002000000002000000000000000000000000000000200000000200000000001111111111111111111111111111111111111111",
[1,2]],["Level 3",[17,349],[281,39],[96,316],[49,163],24E4,"00000000000000010001000000000000000000000000000000300001666100003000000000000020000000000003000111110003000000000007002000000000000030000000003000000000001110203000000000000000000000000000000000000020332200000000000000000000000000000000002033202000000000000000000000000000000000203320320000000000222000000000000000000020332033111001111100011111000110011001102055200000000000000000000000000110011000205520000000000000000000000000000000000020111100000000000000000000000000000000002000000000000000030003000000000220022000200000000000000030000030000200000000000020000000000000000300030000020000000000002000003030300000000200000002011001100110200003030303030303020000000200011001100020000000000030303032111111000000000000000000000000000000000203030303030000000000000000011100070000023030303030300000000000000000000011100002000000000000000000000011110000000000000200000000000000000000001111111111111111111111111111111111111111",
[1,2]],["Level 4",[75,370],[E-24,24],[83,365],[80,53],3E5,"33333300000000000000000000000000000000600000000000000000000000000000000000000011055000000000000000000000003333000000000005500000000000000002000000000000000000001111110010011001111201110011110000000000000000000003300000020000000000100000000000000000000000000702000000000001000000000001110000000000111111000000000010020000002000000000000033333330000333330102100000200033333300000000000000000000000200000020000000000000000000000000000000020000002000000000000010010010011000020202000000201111111111111000000033311001111211100020033333333330000000000003300000033333002000000000000000000000000000000000000000200000000000000000200000000000020000000020111100111110011120111001111112011111002000000000000000002000000303030200000000000000000000000000207000000000020000000000333330003030300011110000200002000000000000000000000000000000000021111200000000000000000000000000000000002000000000001111111111111111111111111111111111111111",
[1,2,3]]],B=window.localStorage&&window.localStorage.pa&&JSON.parse(window.localStorage.pa)||hb,pb=B.length-hb.length+1,v=0;(function(){for(var a=0,b=["webkit","moz"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);a=c+d;return e})})();if("ontouchstart"in document.documentElement||
window.navigator.msMaxTouchPoints)for(var Y=!0,Ia=window.navigator.msMaxTouchPoints?"MSPointerDown":"touchstart",Pa=window.navigator.msMaxTouchPoints?"MSPointerUp":"touchend",gb=window.navigator.msMaxTouchPoints?"MSPointerMove":"touchmove",Za=document.getElementsByClassName("btn"),Ua=0;Ua<Za.length;Ua++)-1===Za[Ua].getAttribute("class").indexOf("edit")&&Za[Ua].setAttribute("class","btn");oa.onload=function(){Na.width=$a=oa.naturalWidth;Na.height=oa.naturalHeight;var a=Na.getContext("2d");a.translate(oa.naturalWidth,
0);a.scale(-1,1);a.drawImage(oa,0,0)};oa.src="imgmap.png";Sa.width=E;Sa.height=I;for(var Va=0;Va<La.length;Va++)ab[Va]=Wa.ua(["synth",0,0.4,0,0.208,0,0.12,20,La[Va],2400,0,0,0,0.01,3E-4,0,0,0,0,0,0,0,0,1,0,0,0.1,0]);Oa=Ma.slice();c(z.oa,["square",0,0.4,0,0.174,0,0.28,20,497,2400,0.22,0,0,0.01,3E-4,0,0,0,0.0665,0,0,0,0,0.783,0,0,0,0]);c(z.ra,["noise",0,0.4,0,0.14,0.405,0.116,20,479,2400,-0.07,0,0,0.01,3E-4,0,0,0,0,0,0,-0.086,-0.122,1,0,0,0,0]);c(z.ja,["square",0,0.4,0,0.098,0.504,0.282,20,1582,2400,
0,0,0,0.01,3E-4,0,0,0,0,0,0,0,0,1,0,0,0,0]);c(z.ia,["saw",0,0.4,0,0.324,0,0.284,20,631,2400,0.172,0,0.498,19.35,3E-4,0,0,0,0,0,0,0,0,1,0,0,0,0]);c(z.ka,["saw",0,0.4,0,0.212,0,0.028,20,1169,2400,-0.52,0,0,0.01,3E-4,0,0,0,0.5,-0.592,0,0.094,0.066,1,0,0,0.28,0]);c(z.la,["synth",0,0.4,0,0.32,0.348,0.44,20,372,417,0,0,0,0.01,3E-4,0,0.374,0.264,0,0,0,0,0,1,0,0,0,0]);c(z.sa,["synth",0,0.4,0,0.13,0.345,0.41,253,1168,1407,-0.0060,-0.082,0,0.01,3E-4,0,0.206,0.166,0,0,0,0,0,1,0,0,0,0]);c(z.X,["noise",0,0.4,
0,0.0020,0.024,0.09,20,372,2400,0,0,0,0.01,3E-4,0,-0.342,0.809,0,0,0,0,0,1,0,0,0,0]);c(z.Aa,["noise",0,0.4,0,0.152,0.393,0.274,20,839,2400,-0.31,0,0,0.01,3E-4,0,-0.34,0.783,0,0,0.6096,0.526,-0.0080,1,0,0,0,0]);c(z.Y,["square",0,0.4,0,0.04,0,0.048,20,578,2400,0.104,0,0.683,19.158,3E-4,0,0,0,0.385,0,0,0,0,1,0,0,0,0]);c(z.n,["square",0,0.4,0,0.046,0.477,0.24,20,1197,2400,0,0,0,0.01,3E-4,0,0.498,0.204,0,0,0,0,0,1,0,0,0,0]);c(z.na,["noise",0,0.4,0,0.108,0.336,0.124,20,462,2400,0,0,0,0.01,3E-4,0,0,0,0,
0,0,0,0,1,0,0,0,0]);window.addEventListener("keyup",X.O,!1);window.addEventListener("keydown",X.N,!1);if(Y){l(ba,Ia,function(){d.state===q.g&&O()});xa("s",function(){d.state===q.g?X.N({keyCode:68}):sa()},function(){X.O({keyCode:68})});xa("a",function(a){d.state===q.g?X.N({keyCode:74}):ca(a)},function(){X.O({keyCode:74})});xa("i",function(){X.N({keyCode:d.state===q.g?73:32})},function(){X.O({keyCode:d.state===q.g?73:32})});T("x",27);T("e",69);T("l",37);T("u",38);T("r",39);T("d",40);T("c",67);T("t",
84);T("n",78);var ib=function(a){a.preventDefault();qa=a.changedTouches||a;ja=Ka.getBoundingClientRect();Ya=!0};l(Ka,Ia,ib);l(Ka,gb,ib);l(Ka,Pa,function(a){a.preventDefault();Ya=!1});l(document.body,"contextmenu",function(a){a.preventDefault()})}else l(ba,"click",sa),l(ba,"contextmenu",ca),l(ba,"mousedown",function(a){1===a.which&&(Ta=!0);d.state===q.e&&Ta&&sa()}),l(ba,"mouseup",function(a){1===a.which&&(Ta=!1)}),l(ba,"mousemove",function(a){var b=s(a);y=[b[0],b[1]];d.state===q.i?(a=s(a),f.h=a.slice()):
d.state===q.e&&Ta&&sa()});C(v);(function jb(c){var s=c,l=fa(),A=a.Ja,D=a.position[0],H=a.position[1],h=X.ga;if(d.state===q.g)if(h[37]&&!a.c)v=(v+B.length-1)%B.length,C(v),a.c=!0;else if(h[39]&&!a.c)v=(v+1)%B.length,C(v),a.c=!0;else if(h[69]&&!a.c)a.c=!0,B[v][r.Q]||na(),N(q.e),h[69]=void 0;else if(h[68]&&!a.c)a.c=!0,B[v][r.Q]&&(B.splice(v,1),v--,C(v)),h[68]=void 0;else if(h[74]&&B[v][r.Q]&&!a.c)l=prompt("Data",JSON.stringify(B[v])),h[74]=void 0;else if(h[73]){if(l=prompt("Data"))try{na(JSON.parse(l))}catch(J){alert("Error!")}h[73]=
void 0}else h[37]||(h[39]||h[68]||h[69]||h[74]||h[73])||(a.c=!1);else{if(d.state===q.e)if(h[37]&&!a.c)Q=(Q+Fa-1)%Fa,a.c=!0;else if(h[39]&&!a.c)Q=(Q+1)%Fa,a.c=!0;else if(h[67]&&!a.c){a.c=!0;try{var R=JSON.parse(prompt("Crates",JSON.stringify(B[v][r.l])));if(R instanceof Array){for(l=0;l<R.length;l++)"number"===!typeof l&&alert("Error!"),R[l]=Math.max(1,Math.min(5,R[l]));B[v][r.l]=R;ya(B[v])}}catch(O){alert("Error!")}h[67]=void 0}else h[78]&&!a.c?(a.c=!0,(l=prompt("Name",B[v][r.F]))&&(B[v][r.F]=l),
h[78]=!1):h[84]&&!a.c?(a.c=!0,s=+prompt("Time",B[v][r.H]),!isNaN(s)&&0<s&&(B[v][r.H]=s),h[84]=!1):h[69]&&!a.c?(a.c=!0,Da(),h[69]=void 0):h[37]||(h[39]||h[67]||h[78]||h[84]||h[69])||(a.c=!1);else if(d.state===q.i){if(!h[32]||a.v||a.j||a.q)h[69]&&!a.q?(a.q=!0,0<a.I&&(a.I--,a.U=3,a.ha=s+5E3,R=Object.create(qb),R.position=[a.position[0]+4,a.position[1]-7],wa.push(R),K(z.ia))):h[32]||(h[69]||!a.q)||(a.q=!1);else a:if(a.q=!0,R=a.d,s=void 0!==R?L[R]:void 0,void 0===s){for(R=0;R<L.length;R++)if(P(a.position,
L[R].position)){a.d=R;K(z.X);break a}ga(G.n)&&(a.I=3,K(z.n))}else a.d=void 0,K(z.X),ga(G.ma)&&void 0!==s&&(L.splice(R,1),0>=L.length?ra():K(z.ja));h[38]?ga(G.o)?(a.position[1]=Math.min(I-x,H-A),a.c=!0):a.v||a.j||(a.r=a.Ia,a.S=l,a.v=!0,a.j=!0,K(z.oa)):!h[38]&&a.v&&(a.v=!1);h[37]&&(a.position[0]=Math.max(x,D-Ea()),a.c=!0,a.p=!0);h[39]&&(a.position[0]=Math.min(E-2*x,D+Ea()),a.c=!0,a.p=!1);h[40]&&ga(G.o)&&(a.position[1]=Math.min(I,H+A),a.c=!0);h[37]||(h[38]||h[39]||h[40])||(a.c=!1)}h[27]&&Da()}Ja=c;if(Ya&&
qa){var S;if(qa.clientX)S=qa;else if(qa instanceof TouchList)for(l=0;l<qa.length;l++)if(h=qa[l],h.clientX>=ja.left&&h.clientX<ja.left+ja.width&&h.clientY>=ja.top&&h.clientY<ja.top+ja.height){S=qa[l];break}if(S){S=[S.clientX-ja.left,S.clientY-ja.top];var h=Ca(fb,S),l=U(fb,S)/12.5,m;d.state===q.i?m=f.position:d.state===q.e&&(m=y);m&&(m[0]+=(d.state===q.e?Math.round(Math.cos(h)):Math.cos(h))*(100>S[0]?-l:l),m[1]+=(d.state===q.e?Math.round(Math.sin(h)):Math.sin(h))*(100>S[0]?-l:l),m[0]=Math.max(0,Math.min(m[0],
E-1)),m[1]=Math.max(0,Math.min(m[1],I-1)));Xa&&sa()}}if(d.state===q.i){d.R=ba.getBoundingClientRect();m=2;var n;if(!a.j&&V(a.position[0]-8,a.position[1],16,0,G.u))n=a.position[1]-a.position[1]%x;else for(;m<=a.r;){if(V(a.position[0]-8,a.position[1]+m,16,0,G.u)){n=a.position[1]+m-(a.position[1]+m)%x;break}m+=x}n?(a.position[1]=n,a.j&&(a.S=0,(n=void 0!==a.d&&L[a.d])&&a.r>15-n.size&&ua(n,c)),a.j=!1,a.r=0):V(a.position[0]-16,a.position[1]-32,16,32,G.o)?a.j=!1:(a.r+=0.6,a.j=!0,a.position[1]+=a.r);void 0!==
a.d&&(L[a.d].position[0]=a.position[0]+eb[0],L[a.d].position[1]=a.position[1]+eb[1]);a.ha<c&&0<a.U&&(a.U=0);for(n=0;n<pa.length;n++)if(m=pa[n],m.position[1]+=m.speed,P(a.position,m.position)&&void 0!==a.d)ua(L[a.d],c),pa.splice(n,1),n--;else if(m.position[1]>I||V(m.position[0],m.position[1],0,0,G.G))pa.splice(n,1),n--;d.time<c&&la();va(f);M.position&&(void 0!==a.d&&15>U(a.position,M.position)&&ua(L[a.d],c),15>U(f.position,M.position)&&ta(c),M.wa<c&&ma(c),va(M));n=V(f.position[0],f.position[1],0,0,
G.t)?w:f.position;m=Ca(p,n);S=p[0]>n[0]?-1:1;if(3<Math.abs(n[0]-p[0])||3<Math.abs(n[1]-p[1]))p[0]+=Math.cos(m)*S*u,p[1]+=Math.sin(m)*S*u;(7*fa()+25>=U(f.position,a.position)||ea(f.position[0],f.position[1],0,0,G.G)||3>U(p,f.position))&&f.w<c&&ta(c)}d.R=ba.getBoundingClientRect();t.fillStyle="#000";t.fillRect(0,0,E,I);for(n=0;n<$;n++)for(m=0;m<ha;m++)za(da[$*m+n],n*x,m*x);for(m=0;m<L.length;m++)m!==a.d&&(n=L[m],t.drawImage(n.fa,n.position[0]-8,n.position[1]-8));for(m=0;m<wa.length;m++)n=wa[m],k(F.Ba,
n.position[0]-8,n.position[1]-8);for(m=0;m<pa.length;m++)n=pa[m],k(F.Ca,n.position[0]-8,n.position[1]-8);k(F.A,b[0],b[1]);if(d.m[r.C])for(n=0;n<d.m[r.C].length;n++){m=t;D=d.m[r.C][n][2];S=d.m[r.C][n][0];A=d.m[r.C][n][1];h=m.fillColor;l=m.textAlign;m.fillStyle="#000";for(D=D.slice();0<D.length;)m.fillText(D.shift(),S,A),A+=10;m.fillStyle=h;m.textAlign=l}M.position&&k(5<U(M.position,M.h)?F.za:F.ya,M.position[0]-8,M.position[1]);d.state===q.i?a.j?e(F.D,a.position[0]-8,a.position[1]-24,0,a.p):a.c?e(F.D,
a.position[0]-8,a.position[1]-24,10,a.p,c):e(F.D,a.position[0]-8,a.position[1]-24,1,a.p):e(F.D,a.position[0]-8,a.position[1]-24,1);void 0!==a.d&&(n=L[a.d],t.drawImage(n.fa,a.p?n.position[0]+2:n.position[0]-15-n.size,n.position[1]-10));7*fa()+75>=U(f.position,a.position)&&(t.beginPath(),t.arc(a.position[0],a.position[1],7*fa()+25,0,360),t.lineWidth=2,t.strokeStyle="#f09",t.stroke());d.state===q.i?f.w>c&&0===Math.floor(c/100)%2||e(F.s,f.position[0]-8,f.position[1]-8,2,!1,c):e(F.s,f.position[0]-8,f.position[1]-
8,0);t.fillStyle="red";t.fillRect(p[0]-1,p[1]-1,2,2);t.beginPath();t.arc(p[0],p[1],5,0,360);t.lineWidth=2;t.strokeStyle="red";t.stroke();t.fillStyle="white";d.state===q.i?(t.fillText("\u2699 "+Math.max(0,Math.ceil((d.time-c)/1E3))+"   \u00a7 "+a.I+"   \u25fc "+a.J,50,396),t.fillText("\u21a1 "+f.k+"   \u2665 "+f.M,530,12),t.fillStyle="#00deff",t.fillText("LUKE",10,396),t.fillStyle="red",t.fillText("CROW",600,12)):d.state===q.e&&t.fillText("< > CHANGE BLOCK   C: CRATES   T: TIME ("+B[v][r.H]+")   N: NAME ("+
B[v][r.F]+")"+(Y?"   S: PAINT   A: TOGGLE PAINT   analogPad: MOVE":""),12,12);d.state===q.g&&t.drawImage(Sa,0,0);d.state===q.e&&(t.globalAlpha=0.6,Q<Z?(za(""+Q,y[0]-y[0]%x,y[1]-y[1]%x),t.strokeStyle="#000",t.strokeRect(y[0]-y[0]%x,y[1]-y[1]%x,x,x)):Q===aa.qa?e(F.D,y[0]-8,y[1]-24,1):Q===aa.s?e(F.s,y[0]-8,y[1]-8,0):Q===aa.A?k(F.A,y[0],y[1]):Q===aa.l&&(t.fillStyle="yellow",t.fillRect(y[0]-8,y[1]-8,16,16),t.fillStyle="#000",t.fillText("C",y[0]-4,y[1]+4)),t.globalAlpha=1);window.requestAnimationFrame(jb)})()})();

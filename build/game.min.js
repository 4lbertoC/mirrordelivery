var Y={};
(function(a){function p(a,c){return c?m(a&255)+p(a>>8,c-1):""}var u=this.$=a||44100,n=2*u,m=String.fromCharCode,d;this.na=function(a){var c=Audio,m=btoa,h="",x=a.length;for(f=0;f<x;f++)var H=32767*a[f]|0,H=-32768>H?-32768:32767<H?32767:H,H=H+(0>H?65536:0),h=h+String.fromCharCode(H&255,H>>8);a=h;a=["RIFF",36+(d=a.length),"WAVEfmt ",16,1,1,u,n,2,16,"data",d,a];h="";for(f=0;f<a.length;f++)h+="s"=="s4s4224422s4s"[f]?a[f]:p(a[f],"s4s4224422s4s".charCodeAt(f)-48);return new c("data:audio/wav;base64,"+m(h))};
var h,f,D=Math.sin,c=2*Math.PI;this.filter=function(a,c,m,d,x,p,n,u,D,A){m=m?m:1;d=d?d:a.length;h=a.slice(0);for(f=m;f<d;f++)h[f]=c(a,h,m,d,f,x,p,n,u,D,A);return h};this.filters={wa:function(a,c,m,d,f,h){return c[f-1]+h*(a[f]-c[f-1])},xa:function(a,c,m,d,f,h){return c[f-1]+h*(d-f)/(d-m)*(a[f]-c[f-1])},va:function(a,c,f,m,d,h){return h*(c[d-1]+a[d]-a[d-1])}};this.ba=function(a,d,m,h,p,n,D,q,O){d=d*c/u;var A=Array(a|0);for(f=0;f<a;f++)A[f]=m(f*d,h,p,n,D,q,O);return A};var q=0;this.m={pa:function(a){4>
a%c&&(q=2*Math.random()-1);return q},ya:Math.random,ta:Math.sin,ua:function(a){return D(a)+0.5*D(a/2)+0.3*D(a/4)},sa:function(a){return 2*(a/c-(a/c+0.5|0))},ca:function(a,c){return D(a)>c?1:D(a)<c?-1:c}}}).apply(Y);var ga={};
(function(){this.L=[];this.J={square:Y.m.ca,saw:Y.m.sa,sine:Y.m.ta,noise:Y.m.pa,synth:Y.m.ua};this.ja=function(){var a=[],p;for(p in this.J)a.push(p);return a};this.ka=function(){function a(a,d,h,f,n){void 0===n&&(n=(h-d)/1E3);a={name:a,id:a.replace(/ /g,""),min:d,max:h,step:n,ia:f,type:"range",group:u};p.push(a)}var p=[],u=0,n=this.ja();(function(a,d,h){a={name:a,id:a.replace(/ /g,""),options:d,ia:h,type:"option",group:u};p.push(a)})("Generator",n,n[0]);a("SuperSamplingQuality",0,16,0,1);a("MasterVolume",
0,1,0.4);u++;a("AttackTime",0,1,0.1);a("SustainTime",0,2,0.3);a("SustainPunch",0,3,2);a("DecayTime",0,2,1);u++;a("MinFrequency",20,2400,0,1);a("StartFrequency",20,2400,440,1);a("MaxFrequency",20,2400,2E3,1);a("Slide",-1,1,0);a("DeltaSlide",-1,1,0);u++;a("VibratoDepth",0,1,0);a("VibratoFrequency",0.01,48,8);a("VibratoDepth Slide",-0.3,1,0);a("VibratoFrequencySlide",-1,1,0);u++;a("ChangeAmount",-1,1,0);a("ChangeSpeed",0,1,0.1);u++;a("SquareDuty",0,0.5,0);a("SquareDutySweep",-1,1,0);u++;a("RepeatSpeed",
0,0.8,0);u++;a("PhaserOffset",-1,1,0);a("PhaserSweep",-1,1,0);u++;a("LPFilterCutoff",0,1,1);a("LPFilterCutoffSweep",-1,1,0);a("LPFilterResonance",0,1,0);a("HPFilterCutoff",0,1,0);a("HPFilterCutoffSweep",-1,1,0);return p};this.ba=function(a){var p=2*Math.PI,u=Math.sin,n=Math.pow,m=Math.abs,d=Y.$,h=a.SuperSamplingQuality|0;1>h&&(h=1);for(var d=d*h,f=[{l:0,D:1,time:a.AttackTime},{l:1+a.SustainPunch,D:1,time:a.SustainTime},{l:1,D:0,time:a.DecayTime}],D=f.length,c=0;c<D;c++)f[c].v=1+(f[c].time*d|0);for(var q=
void 0,w=0,z=-1,G=0,ea=-1,x=0,c=0;c<D;c++)x+=f[c].v;x<d/2&&(x=d/2);var H=Array(x/h|0),I=0,Z=0,O=ga.J[a.Generator];void 0===O&&(O=this.J.ca);var A=0,A=a.SquareDuty,ma=a.SquareDutySweep/d,L=0,E=a.StartFrequency*p/d,P=1+64*n(a.Slide,3)/d,V=n(a.DeltaSlide,3)/(1E3*d);void 0!==h&&(V/=h);a.MinFrequency>a.StartFrequency&&(a.MinFrequency=a.StartFrequency);a.MaxFrequency<a.StartFrequency&&(a.MaxFrequency=a.StartFrequency);for(var ha=a.MinFrequency*p/d,ia=a.MaxFrequency*p/d,ba=0,J=a.VibratoFrequency*p/d,e=a.VibratoDepth,
ca=1+3*n(a.VibratoFrequencySlide,3)/d,M=a.VibratoDepthSlide/d,y=0,B=a.ChangeSpeed*d,k=n(a.ChangeAmount,2),k=0<a.ChangeAmount?1+10*k:1-0.9*k,s=Array(1024),c=0;1024>c;c++)s[c]=0;var r=0,v=1020*n(a.PhaserOffset,2),N=4E3*n(a.PhaserSweep,3)/d,na=1E-5<m(N)||1E-5<m(v),ta=0.0010<a.HPFilterCutoff||0.999>a.LPFilterCutoff,W=0,X=0,b=n(a.LPFilterCutoff,3)/10,K=1+a.HPFilterCutoffSweep/1E4,$=5/(1+20*n(a.LPFilterResonance,2))*(0.01+a.LPFilterCutoff);0.8<$&&($=0.8);var $=1-$,oa=0.999>a.LPFilterCutoff,da=0,T=n(a.HPFilterCutoff,
2)/10,pa=1+a.HPFilterCutoffSweep/1E4,fa=0,F=x;0<a.RepeatSpeed&&(F=n(1-a.RepeatSpeed,2)*d+32);for(var qa=a.MasterVolume,U=0,c=0;c<x;c++)I=O(L,A,0),A+=ma,0>A?A=0:0.5<A&&(A=0.5),fa>F&&(L=0,E=a.StartFrequency*p/d,P=1+3*n(a.Slide,3)/d,V=n(a.DeltaSlide,3)/(1E3*d),void 0!==h&&(V/=h),y=0,B=a.ChangeSpeed*d,k=1+(a.ChangeAmount|0)/12,fa=0),fa+=1,L+=E,P+=V,E*=P,y>B&&(E*=k,B=x),y+=1,E>ia?E=ia:E<ha&&(E=ha),ba+=J,q=E*u(ba)*e,L+=q,J*=ca,M&&(e+=M,0>e?M=e=0:1<e&&(e=1,M=0)),ta&&(0.0010<m(T)&&(T*=pa,1E-5>T?T=1E-5:0.1<
T&&(T=0.1)),q=W,b*=K,0>b?b=0:0.1<b&&(b=0.1),oa?(X+=(I-W)*b,X*=$):(W=I,X=0),W+=X,da+=W-q,I=da*=1-T),na&&(v+=N,0>v&&(v=-v,N=-N),1023<v&&(v=1023,N=0),s[r]=I,I+=s[r-(v|0)+1024&1023],r=r+1&1023),c>ea&&(z+=1,q=z<D?f[z]:{l:0,D:0,v:x},w=q.l,G=(q.D-q.l)/(q.v+1),ea+=q.v),I*=w,w+=G,I*=qa,1<h?(Z+=I,0===(c+1)%h&&(H[U]=Z/h,U+=1,Z=0)):H[c]=I;a=d/100|0;p=Array(a);for(c=0;c<a;c++)p[c]=0;return p.concat(H).concat(p)};this.L=this.ka()}).apply(ga);var ua={};(function(){this.aa=function(a){a=ga.ba(this.ha(a));return Y.na(a)};this.ha=function(a){for(var p={},u=ga.L.length,n=0;n<u;n++)p[ga.L[n].id]=a[n];return p}}).apply(ua);(function(){var a,p,u,n,m,d,h,f,D,c;function q(){0<va.length&&(wa[va.shift()].play(),setTimeout(q,200))}function w(a,b){ja[a]=ua.aa(b)}function z(a){ja[a]&&(ja[a].pause(),ja[a].currentTime=0,ja[a].play())}function G(a,b,c){var d=new Image;d.width=b||16;d.height=c||16;d.src=a;return d}function ea(a,b,c,d,g){var f=a.fillColor,e=a.textAlign;a.fillStyle="black";g&&(a.textAlign=g);for(b=b.slice();0<b.length;)a.fillText(b.shift(),c,d),d+=10;a.fillStyle=f;a.textAlign=e}function x(a){a=t.h=ka[a]||ka[M];var f=
a.s;t.g=!1;b.position=a.C.slice();m=a.B.slice();b.k=0;b.A=0;b.a=void 0;b.e=v;d=W;h=0;t.time=0;a.n?(p=a.n.slice(),u=[a.n[0]+15,a.n[1]+23],c=u.slice()):u=p=null;K=a.map;for(var e,l,g,k,n=F.length=0;n<a.e.length;n++)e=a.e[n],l=Object.create(fa),l.size=e,g=document.createElement("canvas"),g.width=N+e,g.height=N+e,k=g.getContext("2d"),k.fillStyle="yellow",k.fillRect(0,0,N+e,N+e),k.fillStyle="black",k.fillText(e,5,10),l.f=g,g=f[0]+16*n,e=f[1]-e,l.position=[g,e],l.ea=[g,e],F.push(l);U.length=0;aa.length=
0;ra.width=y;ra.height=B;a=ra.getContext("2d");a.clearRect(0,0,y,B);a.fillStyle="rgba(0,0,0,0.7)";a.fillRect(0,0,y,B);a.fillStyle="#fff";a.font="20px sans-serif";a.textAlign="center";a.fillText("Stage: "+t.h.name,y/2,B/2-50);a.fillText("Delivery Boy "+t.N+" - "+t.P+" Crow",y/2,B/2);a.font="15px sans-serif";a.fillText("Select stage with arrows",y/2,B/2+80);a.fillText("Click the crow to start!",y/2,B/2+100);a.beginPath();a.arc(m[0],m[1],16,0,360);a.lineWidth=1;a.strokeStyle="#fff";a.stroke();va=X.slice()}
function H(){t.N+=1;J.style.cursor="auto";z(r.Z);x()}function I(){t.P+=1;J.style.cursor="auto";z(r.T);x()}function Z(a){return[a.clientX-t.O.left,a.clientY-t.O.top]}function O(){return Math.max(1,b.speed+b.w-(void 0!==b.a?F[b.a].size:0))}function A(a,b){return Math.round(a[0]/k)===Math.round(b[0]/k)&&Math.round(a[1]/k)===Math.round(b[1]/k)}function ma(){var a=b.t,c=O();b.c||(a=0);a=Math.min(c,a+c/5);b.t=a;return P(s.d)?c/3:a}function L(a){return A(b.position,[b.position[0],b.position[1]+k/2])||K[Q*
Math.round(b.position[1]/k)+Math.round(b.position[0]/k-1)]!==a&&K[Q*Math.round(b.position[1]/k)+Math.round(b.position[0]/k)]!==a?!1:!0}function E(a,b){return K[Q*Math.round(a[1]/k-1)+Math.round(a[0]/k-0.5)]===b?!0:!1}function P(a){return E(b.position,a)}function V(a,b){return Math.pow(a[0]-b[0],2)+Math.pow(a[1]-b[1],2)}function ha(){return void 0!==b.a?F[b.a]:void 0}function ia(){var a=ha();a&&(z(r.X),b.a=void 0,a.position=a.ea.slice(),b.e--,0>=b.e&&I())}function ba(){var a=ha();a&&b.b>ta-a.size&&
ia()}window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var J=document.getElementById("c"),e=J.getContext("2d"),ca=0,M=0,y=640,B=400,k=16,s={EMPTY:"0",r:"1",d:"2",M:"3",ga:"4",U:"5",K:"6",j:"7"},r={W:0,X:1,S:2,fa:3,G:4,R:5,Z:6,T:7,Y:8,H:9,j:10,V:11},v=10,N=12,na=[1,-6],ta=12,W=10,X="023123467".split(""),b={position:null,speed:4,t:0,w:0,A:0,ma:2,la:-7,q:!1,p:!1,c:!1,i:!1,b:0,images:{da:null},
za:!1,a:void 0,k:0,e:v};a=m=null;f=3;D=!1;h=0;d=W;var K=[],$=null,oa=null,da=null,T=null,pa=null,fa={f:null,size:1,position:null,ea:null},F=[],qa={f:null,position:null},U=[],xa={f:null,position:null,speed:6},aa=[],t={g:!1,O:J.getBoundingClientRect(),time:0,N:0,P:0,h:null},ra=document.createElement("canvas");c=null;p=[80,53];n=null;u=[95,78];var ka=[{name:"Tutorial 1",C:[33,370],B:[y-24,24],s:[53,365],map:"4444444444444444444444444444444444444444000000000000000000000000000000000000006000000000000000000000000000000000000000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000055550000000000000000000000000000000000005555000000000000000000000000000000000000555511111111111111111111111111111111111111114444444444444444444444444444444444444444",
e:[1],u:3E4,o:{F:["PLAYER 1","ARROWS: move/jump","SPACEBAR: grab/release crate","Leave crate into the green zone."],I:["PLAYER 2","MOUSE: move","LClick: shoot","RClick: recharge from nest","Shoot boy to make his crate fall."]}},{name:"Tutorial 2",C:[33,370],B:[y-24,24],s:[53,365],map:"4444444444444444444444444444444444444444000000000000000000000000000000000000006000000000000000000000000000000000000000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000333333000000000000000000000000000003333300000000000000000000000000000000000055550000000000000000000000000000000000005555000000000070000000000000000000000000555511111111111111111111111111111111111111114444444444444444444444444444444444444444",
e:[3],u:3E4,o:{F:["SPACEBAR: buy candies when not holding a crate.","E: use candy","Candies will give a speed boost."],I:["Roofs block your shots.","Don't touch the roofs or the delivery boy.","RClick: eat candy crumbs to get 5 shots."]}},{name:"Tutorial 3",C:[33,370],B:[y-24,24],s:[53,365],n:[100,227],map:"4444444444444444444444444444444444444444000000000000000000000000000000000000006000000000000000000000000000000000000000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003333333000000000000000000000000000000000555555000000000000000000000000000000000055555500000000000000000000000000000000005555550000000002000000000000000333300000111111111111111200000000000000000000000000000000000000020000000000000000000000000000000000000002000000000000000007002000333333000000000211111111000111111111200000000000000000000000000000000000000020000000000000000000000000000000000000002000000000000000000000000000000000000000200011111111111111111111111111111111111111114444444444444444444444444444444444444444",
e:[2,3],u:6E4,o:{F:["ARROWS: climb ladders","Heavy crates will break if you fall from too high."],I:["Don't get shot!","Hide in the nest."]}},{name:"Level 5",C:[75,370],B:[y-24,24],s:[83,365],n:[80,53],map:"4444444444444444444444444444444444444444333333000000000000000000000000000000006055555300000000000000000000000000000000115555500000000000000000000033330000000000555550000000000000020000000000000000000011111100100110011112011100111100000000000000000000000000000200000000001000000000000000000000000007020000000000010000000000011100000000001111110000000000100200000020000000000000333333300003333301021000002000333333000000000000000000000002000000200000000000000000000000000000000200000020000000000000100100100110000202020000002011111111111110000000333110011112111000200333333333300000000000033000000333330020000000000000000000000000000000000000002000000000000000002000000000000200000000201111001111100111201110011111120111110020000000000000000020000000000002000000002000000000000000002070000000000200000000003333300000000000111100002000020000000000000000000000000000000000211112000000000000000000000000000000000020000000000011111111111111111111111111111111111111114444444444444444444444444444444444444444",
e:[1,2,3],u:3E5}],la={Q:{},ra:function(a){la.Q[a.keyCode]=void 0},qa:function(a){la.Q[a.keyCode]=ca}};window.addEventListener("keyup",la.ra,!1);window.addEventListener("keydown",la.qa,!1);for(var ya=[523.25,587.33,659.26,698.46,783.99,880,987.77,1046.5,1108.73],wa={},sa=0;sa<ya.length;sa++)wa[sa]=ua.aa(["synth",0,0.4,0,0.208,0,0.12,20,ya[sa],2400,0,0,0,0.01,3E-4,0,0,0,0,0,0,0,0,1,0,0,0.1,0]);var va=X.slice(),ja={};w(r.W,["square",0,0.4,0,0.174,0,0.28,20,497,2400,0.22,0,0,0.01,3E-4,0,0,0,0.0665,0,
0,0,0,0.783,0,0,0,0]);w(r.X,["noise",0,0.4,0,0.14,0.405,0.116,20,479,2400,-0.07,0,0,0.01,3E-4,0,0,0,0,0,0,-0.086,-0.122,1,0,0,0,0]);w(r.R,["square",0,0.4,0,0.098,0.504,0.282,20,1582,2400,0,0,0,0.01,3E-4,0,0,0,0,0,0,0,0,1,0,0,0,0]);w(r.Y,["saw",0,0.4,0,0.324,0,0.284,20,631,2400,0.172,0,0.498,19.35,3E-4,0,0,0,0,0,0,0,0,1,0,0,0,0]);w(r.S,["saw",0,0.4,0,0.212,0,0.028,20,1169,2400,-0.52,0,0,0.01,3E-4,0,0,0,0.5,-0.592,0,0.094,0.066,1,0,0,0.28,0]);w(r.T,["synth",0,0.4,0,0.32,0.348,0.44,20,372,417,0,0,0,
0.01,3E-4,0,0.374,0.264,0,0,0,0,0,1,0,0,0,0]);w(r.Z,["synth",0,0.4,0,0.13,0.345,0.41,253,1168,1407,-0.0060,-0.082,0,0.01,3E-4,0,0.206,0.166,0,0,0,0,0,1,0,0,0,0]);w(r.G,["noise",0,0.4,0,0.0020,0.024,0.09,20,372,2400,0,0,0,0.01,3E-4,0,-0.342,0.809,0,0,0,0,0,1,0,0,0,0]);w(r.fa,["noise",0,0.4,0,0.152,0.393,0.274,20,839,2400,-0.31,0,0,0.01,3E-4,0,-0.34,0.783,0,0,0.6096,0.526,-0.0080,1,0,0,0,0]);w(r.H,["square",0,0.4,0,0.04,0,0.048,20,578,2400,0.104,0,0.683,19.158,3E-4,0,0,0,0.385,0,0,0,0,1,0,0,0,0]);w(r.j,
["square",0,0.4,0,0.046,0.477,0.24,20,1197,2400,0,0,0,0.01,3E-4,0,0.498,0.204,0,0,0,0,0,1,0,0,0,0]);w(r.V,["noise",0,0.4,0,0.108,0.336,0.124,20,462,2400,0,0,0,0.01,3E-4,0,0,0,0,0,0,0,0,1,0,0,0,0]);var R=0,S=0,Q=y/k,Aa=B/k;b.images.da=G("img/man.png",16,32);a=G("img/crow.png");$=G("img/ladder.png");oa=G("img/nest.png");da=G("img/dispenser.png");T=G("img/roof.png");pa=G("img/wall.png");qa.f=G("img/crumbs.png");xa.f=G("img/shot.png");n=G("img/granny.png");x();J.addEventListener("click",function(a){a=
Z(a);t.g?0<f&&h<ca&&(f--,z(r.S),a=Object.create(xa),a.position=m.slice(),aa.push(a)):a[0]>m[0]-16&&(a[0]<m[0]+16&&a[1]>m[1]-16&&a[1]<m[1]+16)&&(t.g=!0,t.time=ca+t.h.u,q(),J.style.cursor="none")});J.addEventListener("mousemove",function(a){t.g&&(m=Z(a).slice())});J.addEventListener("contextmenu",function(a){a.preventDefault();if(t.g&&h<ca)if(a=Z(a),K[Q*Math.round(m[1]/k-0.5)+Math.round(m[0]/k-0.5)]===s.K&&3>f)z(r.H),f++;else{var b;for(b=0;b<U.length;b++)if(A(a,U[b].position)){f=Math.max(f,5);z(r.H);
U.splice(b,1);break}}});(function za(q){var l=O(),g=b.ma,w=b.position[0],G=b.position[1],C=la.Q;if(t.g){C[27]&&(J.style.cursor="auto",x(M));if(!C[32]||b.q||b.p||b.i)C[69]&&!b.i?(b.i=!0,0<b.k&&(b.k--,b.w=3,b.A=q+5E3,v=Object.create(qa),v.position=[b.position[0]+4,b.position[1]-7],U.push(v),z(r.Y))):C[32]||(C[69]||!b.i)||(b.i=!1);else{b.i=!0;a:{var v=b.a,N=void 0!==v?F[v]:void 0;if(void 0===N){for(v=0;v<F.length;v++)if(A(b.position,F[v].position)){b.a=v;z(r.G);break a}P(s.j)&&(b.k=3,z(r.j))}else b.a=
void 0,z(r.G),P(s.U)&&void 0!==N&&(F.splice(v,1),0>=F.length?H():z(r.R))}}C[38]?P(s.d)?(b.position[1]=Math.min(B-k,G-g),b.c=!0):b.q||b.p||(b.b=b.la,b.t=l,b.q=!0,b.p=!0,z(r.W)):!C[38]&&b.q&&(b.q=!1);C[37]&&(b.position[0]=Math.max(k,w-ma()),b.c=!0);C[39]&&(b.position[0]=Math.min(y-2*k,w+ma()),b.c=!0);C[40]&&((P(s.d)||L(s.d))&&!L(s.r))&&(b.position[1]=Math.min(B,G+g),b.c=!0);C[37]||(C[38]||C[39]||C[40])||(b.c=!1)}else C[37]&&!b.c&&(M=(M+ka.length-1)%ka.length,x(M),b.c=!0),C[39]&&!b.c&&(M=(M+1)%ka.length,
x(M),b.c=!0),C[37]||C[39]||(b.c=!1);ca=q;if(t.g){t.O=J.getBoundingClientRect();b.b>k/2&&(b.b+b.position[1]>b.oa&&b.b)&&(b.b=k/2,ba());if(P(s.d)||L(s.d)||L(s.r)||b.position[1]>B-k){if(L(s.d)||0<b.b)ba(),b.b=0,b.t=0,b.p=!1;P(s.d)||L(s.d)||0!==b.b||(b.position[1]=b.position[1]-b.position[1]%k+1)}else ba(),b.b+=1,b.p=!0;b.position[1]+=b.b;l=b.position[0];for(g=b.position[1];g<B-k&&!E([l,g],s.r);)g+=k;g-=g%k;b.oa=g;void 0!==b.a&&(F[b.a].position[0]=b.position[0]+na[0],F[b.a].position[1]=b.position[1]+
na[1]);b.A<q&&0<b.w&&(b.w=0);for(l=0;l<aa.length;l++)if(g=aa[l],g.position[1]+=g.speed,A(b.position,g.position))ia(),aa.splice(l,1),l--;else if(g.position[1]>B||E(g.position,s.M))aa.splice(l,1),l--;t.time<q&&I();D=Math.pow(7*O()+75,2)>=V(m,b.position);p&&(l=E(m,s.K)?u:m,g=Math.atan((l[1]-c[1])/(l[0]-c[0])),w=c[0]>l[0]?-1:1,3<Math.abs(l[0]-c[0])||3<Math.abs(l[1]-c[1]))&&(c[0]+=1*Math.cos(g)*w,c[1]+=1*Math.sin(g)*w);(Math.pow(7*O()+25,2)>=V(m,b.position)||E(m,s.M)||p&&3>Math.sqrt(V(c,m)))&&h<q&&(h=
q+5E3,z(r.V),f=0,d--,0>=d&&H())}e.fillStyle="black";e.fillRect(0,0,y,B);for(R=0;R<Q;R++)for(S=0;S<Aa;S++)g=null,l="#00deff",K[Q*S+R]===s.r?g=pa:K[Q*S+R]===s.M?g=T:K[Q*S+R]===s.ga?l="#000":K[Q*S+R]===s.U?l="#0f0":K[Q*S+R]===s.K?g=oa:K[Q*S+R]===s.d?g=$:K[Q*S+R]===s.j&&(g=da),e.fillStyle=l,e.fillRect(R*k,S*k,k,k),null!==g&&e.drawImage(g,R*k,S*k,k,k);for(g=0;g<F.length;g++)g!==b.a&&(l=F[g],e.drawImage(l.f,l.position[0]-8,l.position[1]-8));for(g=0;g<U.length;g++)l=U[g],e.drawImage(l.f,l.position[0]-8,
l.position[1]-8);for(g=0;g<aa.length;g++)l=aa[g],e.drawImage(l.f,l.position[0]-8,l.position[1]-8);p&&e.drawImage(n,p[0],p[1]);t.h.o&&(ea(e,t.h.o.F,120,330),ea(e,t.h.o.I,620,70,"right"));e.drawImage(b.images.da,b.position[0]-8,b.position[1]-24);void 0!==b.a&&(l=F[b.a],e.drawImage(l.f,l.position[0]-8,l.position[1]-8));D&&(e.beginPath(),e.arc(b.position[0],b.position[1],7*O()+25,0,360),e.lineWidth=2,e.strokeStyle="#f09",e.stroke());h>q&&0===Math.floor(q/100)%2||e.drawImage(a,m[0]-8,m[1]-8);e.fillStyle=
"red";p&&(e.fillStyle="red",e.fillRect(c[0]-1,c[1]-1,2,2),e.beginPath(),e.arc(c[0],c[1],5,0,360),e.lineWidth=2,e.strokeStyle="red",e.stroke());e.fillStyle="#00deff";e.fillText("BOY",10,396);e.fillStyle="red";e.fillText("CROW",600,12);e.fillStyle="white";e.fillText("SPEED: "+O(),40,396);e.fillText("BOOST TIMEOUT: "+Math.max(0,Math.ceil((b.A-q)/1E3)),100,396);e.fillText("TIME LEFT: "+Math.max(0,Math.ceil((t.time-q)/1E3)),210,396);e.fillText("CANDIES: "+b.k,300,396);e.fillText("CRATES: "+b.e,380,396);
e.fillText("SHOTS: "+f,540,12);e.fillText("STUN TIMEOUT: "+Math.max(0,Math.ceil((h-q)/1E3)),430,12);e.fillText("HEALTH: "+d,340,12);t.g||e.drawImage(ra,0,0);window.requestAnimationFrame(za)})()})();

/* http://github.com/4lbertoC/mirrordelivery */var ka={};
(function(a){function y(a,c){return c?q(a&255)+y(a>>8,c-1):""}var n=this.ta=a||44100,v=2*n,q=String.fromCharCode,c;this.La=function(a){var q=Audio,h=btoa,D="",H=a.length;for(l=0;l<H;l++)var g=32767*a[l]|0,g=-32768>g?-32768:32767<g?32767:g,g=g+(0>g?65536:0),D=D+String.fromCharCode(g&255,g>>8);a=D;a=["RIFF",36+(c=a.length),"WAVEfmt ",16,1,1,n,v,2,16,"data",c,a];D="";for(l=0;l<a.length;l++)D+="s"=="s4s4224422s4s"[l]?a[l]:y(a[l],"s4s4224422s4s".charCodeAt(l)-48);return new q("data:audio/wav;base64,"+h(D))};
var g,l,u=Math.sin,h=2*Math.PI;this.filter=function(a,c,n,D,q,h,y,v,A,u){n=n?n:1;D=D?D:a.length;g=a.slice(0);for(l=n;l<D;l++)g[l]=c(a,g,n,D,l,q,h,y,v,A,u);return g};this.filters={Ra:function(a,c,n,g,q,h){return c[q-1]+h*(a[q]-c[q-1])},Sa:function(a,c,n,g,q,h){return c[q-1]+h*(g-q)/(g-n)*(a[q]-c[q-1])},Qa:function(a,c,n,q,g,h){return h*(c[g-1]+a[g]-a[g-1])}};this.va=function(a,c,g,q,y,v,A,u,la){c=c*h/n;var M=Array(a|0);for(l=0;l<a;l++)M[l]=g(l*c,q,y,v,A,u,la);return M};var A=0;this.J={Ma:function(a){4>
a%h&&(A=2*Math.random()-1);return A},Ta:Math.random,Oa:Math.sin,Pa:function(a){return u(a)+0.5*u(a/2)+0.3*u(a/4)},Na:function(a){return 2*(a/h-(a/h+0.5|0))},xa:function(a,c){return u(a)>c?1:u(a)<c?-1:c}}}).apply(ka);var Fa={};
(function(){this.ba=[];this.Z={square:ka.J.xa,saw:ka.J.Na,sine:ka.J.Oa,noise:ka.J.Ma,synth:ka.J.Pa};this.Ha=function(){var a=[],y;for(y in this.Z)a.push(y);return a};this.Ia=function(){function a(a,c,g,v,u){void 0===u&&(u=(g-c)/1E3);a={name:a,id:a.replace(/ /g,""),min:c,max:g,step:u,Ga:v,type:"range",group:n};y.push(a)}var y=[],n=0,v=this.Ha();(function(a,c,g){a={name:a,id:a.replace(/ /g,""),options:c,Ga:g,type:"option",group:n};y.push(a)})("Generator",v,v[0]);a("SuperSamplingQuality",0,16,0,1);a("MasterVolume",
0,1,0.4);n++;a("AttackTime",0,1,0.1);a("SustainTime",0,2,0.3);a("SustainPunch",0,3,2);a("DecayTime",0,2,1);n++;a("MinFrequency",20,2400,0,1);a("StartFrequency",20,2400,440,1);a("MaxFrequency",20,2400,2E3,1);a("Slide",-1,1,0);a("DeltaSlide",-1,1,0);n++;a("VibratoDepth",0,1,0);a("VibratoFrequency",0.01,48,8);a("VibratoDepth Slide",-0.3,1,0);a("VibratoFrequencySlide",-1,1,0);n++;a("ChangeAmount",-1,1,0);a("ChangeSpeed",0,1,0.1);n++;a("SquareDuty",0,0.5,0);a("SquareDutySweep",-1,1,0);n++;a("RepeatSpeed",
0,0.8,0);n++;a("PhaserOffset",-1,1,0);a("PhaserSweep",-1,1,0);n++;a("LPFilterCutoff",0,1,1);a("LPFilterCutoffSweep",-1,1,0);a("LPFilterResonance",0,1,0);a("HPFilterCutoff",0,1,0);a("HPFilterCutoffSweep",-1,1,0);return y};this.va=function(a){var y=2*Math.PI,n=Math.sin,v=Math.pow,q=Math.abs,c=ka.ta,g=a.SuperSamplingQuality|0;1>g&&(g=1);for(var c=c*g,l=[{I:0,U:1,time:a.AttackTime},{I:1+a.SustainPunch,U:1,time:a.SustainTime},{I:1,U:0,time:a.DecayTime}],u=l.length,h=0;h<u;h++)l[h].S=1+(l[h].time*c|0);
for(var A=void 0,ta=0,$=-1,Ea=0,D=-1,H=0,h=0;h<u;h++)H+=l[h].S;H<c/2&&(H=c/2);var za=Array(H/g|0),P=0,ha=0,la=Fa.Z[a.Generator];void 0===la&&(la=this.Z.xa);var M=0,M=a.SquareDuty,ua=a.SquareDutySweep/c,ia=0,R=a.StartFrequency*y/c,va=1+64*v(a.Slide,3)/c,aa=v(a.DeltaSlide,3)/(1E3*c);void 0!==g&&(aa/=g);a.MinFrequency>a.StartFrequency&&(a.MinFrequency=a.StartFrequency);a.MaxFrequency<a.StartFrequency&&(a.MaxFrequency=a.StartFrequency);for(var Aa=a.MinFrequency*y/c,ba=a.MaxFrequency*y/c,wa=0,ca=a.VibratoFrequency*
y/c,V=a.VibratoDepth,Ba=1+3*v(a.VibratoFrequencySlide,3)/c,da=a.VibratoDepthSlide/c,S=0,xa=a.ChangeSpeed*c,ma=v(a.ChangeAmount,2),ma=0<a.ChangeAmount?1+10*ma:1-0.9*ma,Ca=Array(1024),h=0;1024>h;h++)Ca[h]=0;var I=0,G=1020*v(a.PhaserOffset,2),w=4E3*v(a.PhaserSweep,3)/c,Z=1E-5<q(w)||1E-5<q(G),La=0.0010<a.HPFilterCutoff||0.999>a.LPFilterCutoff,E=0,W=0,ea=v(a.LPFilterCutoff,3)/10,Ga=1+a.HPFilterCutoffSweep/1E4,na=5/(1+20*v(a.LPFilterResonance,2))*(0.01+a.LPFilterCutoff);0.8<na&&(na=0.8);var na=1-na,C=0.999>
a.LPFilterCutoff,F=0,Q=v(a.HPFilterCutoff,2)/10,fa=1+a.HPFilterCutoffSweep/1E4,oa=0,t=H;0<a.RepeatSpeed&&(t=v(1-a.RepeatSpeed,2)*c+32);for(var Ma=a.MasterVolume,pa=0,h=0;h<H;h++)P=la(ia,M,0),M+=ua,0>M?M=0:0.5<M&&(M=0.5),oa>t&&(ia=0,R=a.StartFrequency*y/c,va=1+3*v(a.Slide,3)/c,aa=v(a.DeltaSlide,3)/(1E3*c),void 0!==g&&(aa/=g),S=0,xa=a.ChangeSpeed*c,ma=1+(a.ChangeAmount|0)/12,oa=0),oa+=1,ia+=R,va+=aa,R*=va,S>xa&&(R*=ma,xa=H),S+=1,R>ba?R=ba:R<Aa&&(R=Aa),wa+=ca,A=R*n(wa)*V,ia+=A,ca*=Ba,da&&(V+=da,0>V?
da=V=0:1<V&&(V=1,da=0)),La&&(0.0010<q(Q)&&(Q*=fa,1E-5>Q?Q=1E-5:0.1<Q&&(Q=0.1)),A=E,ea*=Ga,0>ea?ea=0:0.1<ea&&(ea=0.1),C?(W+=(P-E)*ea,W*=na):(E=P,W=0),E+=W,F+=E-A,P=F*=1-Q),Z&&(G+=w,0>G&&(G=-G,w=-w),1023<G&&(G=1023,w=0),Ca[I]=P,P+=Ca[I-(G|0)+1024&1023],I=I+1&1023),h>D&&($+=1,A=$<u?l[$]:{I:0,U:0,S:H},ta=A.I,Ea=(A.U-A.I)/(A.S+1),D+=A.S),P*=ta,ta+=Ea,P*=Ma,1<g?(ha+=P,0===(h+1)%g&&(za[pa]=ha/g,pa+=1,ha=0)):za[h]=P;a=c/100|0;y=Array(a);for(h=0;h<a;h++)y[h]=0;return y.concat(za).concat(y)};this.ba=this.Ia()}).apply(Fa);var Va={};(function(){this.ua=function(a){a=Fa.va(this.Fa(a));return ka.La(a)};this.Fa=function(a){for(var y={},n=Fa.ba.length,v=0;v<n;v++)y[Fa.ba[v].id]=a[v];return y}}).apply(Va);(function(){var a,y,n,v;function q(d,b,a){d.addEventListener?d.addEventListener(b,a,!1):d.attachEvent?d.attachEvent("on"+b,a):d["on"+b]=a}function c(d,b,a,c,Wa,e){var f=W[d].frame,g=W[d].f;d=W[d].frames;c=e?d[Math.floor(e*c/1E3)%d.length]:d[c];Wa?s.drawImage(Na,$a-(f.x+c.x)-c.a,f.y+c.y,c.a,c.b,b+g.x,a+g.y,c.a,c.b):s.drawImage(qa,f.x+c.x,f.y+c.y,c.a,c.b,b+g.x,a+g.y,c.a,c.b)}function g(d,b,a,c,Wa){var e=W[d].frame;d=W[d].f;s.drawImage(qa,e.x,e.y,c||e.a,Wa||e.b,b+d.x,a+d.y,d.a,d.b)}function l(d){var b=
d.clientX-e.Q.left;d=d.clientY-e.Q.top;b=Math.max(0,Math.min(b,I-1));d=Math.max(0,Math.min(d,G-1));return[b,d]}function u(d,b){if(Ga)try{Ha[d]=Va.ua(b)}catch(a){}}function h(){if(Ga)try{e.state===t.i&&0<Oa.length&&(ab[Oa.shift()].play(),setTimeout(h,200))}catch(d){}}function A(d){if(Ga)try{Ha[d]&&(Ha[d].pause(),Ha[d].currentTime=0,Ha[d].play())}catch(b){}}function ta(d){d=d||B[x];d=["CustomLevel"+jb++,d[r.aa].slice(),d[r.Y].slice(),d[r.V].slice(),d[r.A].slice(),d[r.F],d[r.$],d[r.l].slice(),null,!0];
B.push(d);e.state===t.g&&(x=B.length-1,D(x))}function $(){return Math.max(1,b.speed+b.T-(void 0!==b.d?K[b.d].size:0))}function Ea(d){var b=d[r.V],a,c,e,f;Pa.N=b;for(var g=K.length=0;g<d[r.l].length;g++)a=d[r.l][g],c=Object.create(Pa),c.size=a,e=document.createElement("canvas"),e.width=pa+a,e.height=pa+a,f=e.getContext("2d"),f.fillStyle="yellow",f.fillRect(0,0,pa+a,pa+a),f.fillStyle="black",f.fillText(a,5,10),c.fa=e,e=b[0]+16*g,a=b[1]-a,c.position=[e,a],c.N=[e,a],K.push(c)}function D(d){d=e.m=B[d]||
B[x];ha(t.g);b.position=d[r.aa].slice();f.position=d[r.Y].slice();b.G=0;b.ha=0;b.d=void 0;b.H=Ma;b.q=!1;b.u=!1;b.c=!1;b.j=!1;b.p=!1;f.K=bb;f.k=0;f.v=0;L.position=L.h=null;e.time=0;ha(t.g);N=0;a=d[r.A].slice();y=[d[r.A][0]+15,d[r.A][1]+23];n=y.slice();v=1;ga="4444444444444444444444444444444444444444"+d[r.$]+"4444444444444444444444444444444444444444";ga=ga.split("");Da=null;Ea(d);ya.length=0;ra.length=0;Qa.width=I;Qa.height=G;var J=Qa.getContext("2d");J.fillStyle="rgba(0,0,0,0.7)";J.fillRect(0,0,I,
G);J.fillStyle="#fff";J.textAlign="center";J.fillText("A 13kB game by Alberto Congiu",I/2,12);J.font="20px courier";J.fillText(e.m[r.P],I/2,G/2-50);J.fillText("Luke "+e.da+" - "+e.ea+" Crow",I/2,G/2);J.font="15px courier";J.fillText("Click the "+(X?"screen":"crow")+" to start",I/2,G/2+60);J.fillText("< >: Select level",I/2,G/2+100);J.fillText(d[r.O]?"E: EDIT   "+(X?"S":"D")+": DELETE   "+(X?"A":"J")+": EXPORT   I: IMPORT":"E: EDIT   I: IMPORT",I/2,G/2+120);J.beginPath();J.arc(f.position[0],f.position[1],
16,0,360);J.lineWidth=2;J.strokeStyle="#fff";J.stroke();Oa=na.slice();window.localStorage&&(window.localStorage.oa=JSON.stringify(B))}function H(){ha(t.i);e.time=Ia+e.m[r.F];h();U.style.cursor="none"}function za(){e.da+=1;U.style.cursor="auto";A(C.sa);D(x)}function P(){e.ea+=1;U.style.cursor="auto";A(C.ka);D(x)}function ha(d){e.state=d;if(X){var b=document.getElementsByClassName("edit");d="btn edit"+(d===t.e?"":" h");for(var a=0;a<b.length;a++)b[a].setAttribute("class",d)}}function la(){U.style.cursor=
"auto";e.state===t.e&&(B[x][r.$]=ga.join("").substring(Z,Z*La-Z),B[x][r.aa]=b.position.slice(),B[x][r.Y]=f.position.slice(),B[x][r.A]=a.slice(),B[x][r.V]=Pa.N.slice());D(x)}function M(d){d.preventDefault();if(e.state===t.e)Xa=!Xa;else if(e.state===t.i&&f.v<Ia)if(d=l(d),(Ba(f.position[0]-8,f.position[1]-8,16,16,F.t)||V(f.position[0],f.position[1],0,0,F.t))&&f.k<kb)A(C.X),f.k++;else{var b;for(b=0;b<ya.length;b++)if(Aa(d,ya[b].position)){f.k=Math.max(f.k,lb);A(C.X);ya.splice(b,1);break}}}function ua(){if(e.state===
t.e)if(N<Q){var d=Z*Math.floor(z[1]/w)+Math.floor(z[0]/w);d<ga.length&&(ga[d]=""+N)}else if(N===fa.pa)b.position=z.slice();else if(N===fa.s)f.position=z.slice();else if(N===fa.w)a=z.slice(),y=[a[0]+15,a[1]+23],n=y.slice();else{if(N===fa.l)for(Pa.N=z.slice(),d=0;d<K.length;d++){var c=K[d];c.position[0]=z[0]+16*d;c.position[1]=z[1]-c.size}}else e.state!==t.g||X?0<f.k&&f.v<Ia&&(f.k--,A(C.ja),d=Object.create(mb),d.position=f.position.slice(),ra.push(d)):z[0]>f.position[0]-16&&(z[0]<f.position[0]+16&&
z[1]>f.position[1]-16&&z[1]<f.position[1]+16)&&H()}function ia(b){f.v=b+nb;A(C.ma);f.k=0;f.K--;0>=f.K?za():f.K<cb&&aa(b)}function R(d,a){A(C.qa);b.d=void 0;d.position=d.N.slice();b.H--;0>=b.H?P():b.H<cb&&aa(a)}function va(){var d=b.R,a=$();b.c||(d=0);d=Math.min(a,d+a/7);b.R=d;return da(F.o)?a/2:d}function aa(b){if(!Da){Da=[];for(var a=0;a<ga.length;a++)ga[a]===F.ca&&Da.push(a)}a=Da[Math.floor(Math.random()*Da.length)]+1;a=[a%Z*w,Math.floor(a/Z)*w];L.h=[a[0]-6,a[1]-10];L.position||(L.position=L.h.slice());
L.wa=b+ob;v+=0.05}function Aa(a,b){return Math.round(a[0]/w)===Math.round(b[0]/w)&&Math.round(a[1]/w)===Math.round(b[1]/w)}function ba(a,b){return a&&b&&Math.sqrt(Math.pow(a[0]-b[0],2)+Math.pow(a[1]-b[1],2))}function wa(a,b){return Math.atan((b[1]-a[1])/(b[0]-a[0]))}function ca(a,b){return ga[Z*Math.floor(b/w)+Math.floor(a/w)]}function V(a,b,c,e,f){var g=b,n=ca(a,g);c=a+c;topRight=ca(c,g);bottomRight=ca(c,b+e);bottomLeft=ca(a,b);return n===f||topRight===f||bottomRight===f||bottomLeft===f}function Ba(a,
b,c,e,f){b+=e;e=ca(a,b);bottomLeft=ca(a+c,b);return e===f||bottomLeft===f}function da(a){return V(b.position[0]-8,b.position[1]-32,16,32,a)||V(b.position[0],b.position[1]-8,0,0,a)}function S(a,b){var c=document.getElementById(a);q(c,Ja,function(){Y.L({keyCode:b})});q(c,Ra,function(){Y.M({keyCode:b})})}function xa(a,b,c){a=document.getElementById(a);q(a,Ja,b);q(a,Ra,c)}function ma(a){if(a.position&&a.h){var b=wa(a.position,a.h),c=a.position[0]>a.h[0]?-1:1,e=Math.abs(a.position[0]-a.h[0]),f=Math.abs(a.position[1]-
a.h[1]);if(3<e||3<f){var g=Math.cos(b)*c*db,b=Math.sin(b)*c*db;Math.abs(g)>e&&(g=e*g/Math.abs(g));Math.abs(b)>f&&(b=f*b/Math.abs(b));a.position[0]+=g;a.position[1]+=b}}}function Ca(a,b,c){var e=null,f=L.position?"#c29":"#00deff";a===F.ca?e=E.Ea:a===F.D?e=E.D:a===F.Da?f="#000":a===F.la?f="#0f0":a===F.t?e=E.t:a===F.o?e=E.o:a===F.n&&(e=E.n);s.fillStyle=f;s.fillRect(b,c,w,w);null!==e&&g(e,b,c,w,w)}var I=640,G=400,w=16,Z=I/w,La=G/w,E={s:0,Ba:1,n:2,w:3,o:4,C:5,t:6,D:7,Ca:8,Ea:9,ya:10,za:11},W=[{frame:{x:30,
y:0,a:30,b:14},f:{x:1,y:1,a:30,b:14},frames:[{x:1,y:1,a:15,b:11},{x:17,y:1,a:15,b:13}]},{frame:{x:14,y:40,a:14,b:8},f:{x:1,y:7,a:14,b:8}},{frame:{x:32,y:14,a:16,b:16},f:{x:0,y:0,a:16,b:16}},{frame:{x:0,y:24,a:14,b:24},f:{x:1,y:7,a:14,b:24}},{frame:{x:16,y:48,a:16,b:16},f:{x:0,y:0,a:16,b:16}},{frame:{x:0,y:0,a:30,b:24},f:{x:1,y:3,a:30,b:24},frames:[{x:0,y:0,a:15,b:24},{x:16,y:0,a:13,b:24}]},{frame:{x:48,y:14,a:16,b:10},f:{x:0,y:10,a:16,b:10}},{frame:{x:14,y:24,a:16,b:16},f:{x:0,y:0,a:16,b:16}},{frame:{x:31,
y:32,a:6,b:14},f:{x:4,y:1,a:6,b:14}},{frame:{x:0,y:48,a:16,b:16},f:{x:0,y:0,a:16,b:16}},{frame:{x:36,y:32,a:11,b:13},f:{x:0,y:0,a:12,b:13}},{frame:{x:49,y:25,a:15,b:16},f:{x:0,y:0,a:15,b:16}}],ea=[523.25,587.33,659.26,698.46,783.99,880,987.77,1046.5,1108.73],Ga=!(!window.btoa||!window.atob),na="023123467".split(""),C={na:0,qa:1,ja:2,Aa:3,W:4,ia:5,sa:6,ka:7,ra:8,X:9,n:10,ma:11},F={EMPTY:"0",ca:"1",o:"2",D:"3",Da:"4",la:"5",t:"6",n:"7"},Q=8,fa={pa:Q+0,s:Q+1,w:Q+2,l:Q+3},oa=Q+4,t={g:0,i:1,e:2},Ma=10,
pa=12,eb=[1,-6],kb=3,lb=5,nb=5E3,bb=10,db=16,cb=4,ob=2E3,r={P:0,aa:1,Y:2,V:3,A:4,F:5,$:6,l:7,B:8,O:9};(function(){for(var a=0,b=["webkit","moz"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),e=Math.max(0,16-(c-a)),f=window.setTimeout(function(){b(c+e)},e);a=c+e;return f})})();var X=!1,Ja,Ra,fb;if("ontouchstart"in document.documentElement||
window.navigator.msMaxTouchPoints){X=!0;Ja=window.navigator.msMaxTouchPoints?"MSPointerDown":"touchstart";Ra=window.navigator.msMaxTouchPoints?"MSPointerUp":"touchend";fb=window.navigator.msMaxTouchPoints?"MSPointerMove":"touchmove";for(var Ya=document.getElementsByClassName("btn"),Sa=0;Sa<Ya.length;Sa++)-1===Ya[Sa].getAttribute("class").indexOf("edit")&&Ya[Sa].setAttribute("class","btn")}var U=document.getElementById("C"),s=U.getContext("2d"),qa=new Image,Na=document.createElement("canvas"),$a=0,
Qa=document.createElement("canvas"),Ia=0,z=[0,0],Ta=!1,Y={ga:{},M:function(a){Y.ga[a.keyCode]=void 0},L:function(a){Y.ga[a.keyCode]=Ia}},Ha=[],ab={},Oa,N=0,Xa=!1,b={position:null,speed:4,R:0,T:0,ha:0,Ka:2,Ja:-7,u:!1,j:!1,c:!1,q:!1,r:0,d:void 0,G:0,H:Ma,p:!1},f={position:null,h:null,k:0,v:0,K:bb},L={position:null,h:null,wa:0},ga=[],Da=null,Pa={fa:null,size:1,position:null,N:[0,0]},K=[],pb={position:null},ya=[],mb={position:null,speed:6},ra=[];n=y=a=null;v=1;var e={state:t.g,Q:U.getBoundingClientRect(),
time:0,da:0,ea:0,m:null},gb=[["Tutorial",[33,370],[I-24,55],[300,365],[20,70],3E6,"00000000000000000000000000000000000000000000000000000000000000000000000000000000330000000000000000000000000000000000006000000000000000000000000000000000000000110000000000033300000000000006000000000000110000000003330000000000001110000000000000000000000333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003333333333333333333333333333333333333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005500000000000000000000000000000000000000550000000000007000000000000002000000000111111111111111111111111111111200000000000000000000000000000000000000020000000000000000000000000000000000000002000000000000000000000000000000000000000200000000000000000000000000000000000000020000000001111111111111111111111111111111111111111",
[1],[[20,340,["PLAYER 1"]],[100,340,["ARROWS: move/jump"]],[250,340,[(X?"I":"SPACEBAR")+": grab/release crate"]],[500,340,["UP/DOWN: Climb"]],[450,250,["Crates break if you fall from too high"]],[160,250,[(X?"I":"SPACEBAR")+": buy candies when not holding crate","E: Use candy to gain speed"]],[10,230,["Deliver crate to green area"]],[560,30,["PLAYER 2",(X?"DPad":"Mouse")+": move"]],[390,80,["Hide from granny in nest"]],[390,130,[(X?"A":"RClick")+": eat from nest or crumbs",(X?"S":"LClick")+": shoot!"]],
[150,70,["Don't touch roofs or Luke"]]]],["Level 1",[25,366],[616,24],[41,364],[513,180],6E4,"00000000000000000000000000000000000000600000000000000000000000000000000000000011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000003330000000000000000000000000000000000003333300000000000000000000000000000000000000000000000000000000000000000000000000000550000020000000000000200000000000000000055020002000111111111120000333000000000111112000200133333330002000000000000000000000200021130000000000200000000000000000000020002000000000000020000000000000000000002000200020000000002111111100111001101111100111112000000000200000000000000000000000033333200000000020000000000000000000000000000020000000000000000000000000000000000000002000000000000000000000000000000000000000200000000000000000000000000000000001111111111111111111111111111111111111111",
[1,2]],["Level 2",[28,143],[600,296],[588,365],[51,50],12E4,"33330000000000000000000000000000000000000000000000000033000000000330000000000000055000000000000000000000000000000000000005500000000000000003030000000000000000001111111000000000000030000000000000110010000000010000000000000000000000000100301000000000000200000200000200000200000000100000000011120111102000201111021113002010111100000002000000020200000002000000211100000000000100000000200000000100000020000000000000000000000000000000000002002000000000000000000000000000000000030211100000001110000000000000000000000030020000000000000000000000003333300000000002000000000000000000000000000000000003020200000000000001100000000000000000000002110000000000000000000000000020700000020200000000000000000000000000112110000002020000060000000000010000000000200000000201000011100000000000000000000020000000020000000000000000000000000000002000000002000000000000000000000000000000200000000200000000001111111111111111111111111111111111111111",
[1,2]],["Level 3",[17,349],[281,39],[96,316],[49,163],24E4,"00000000000000010001000000000000000000000000000000300001666100003000000000000020000000000003000111110003000000000007002000000000000030000000003000000000001110203000000000000000000000000000000000000020332200000000000000000000000000000000002033202000000000000000000000000000000000203320320000000000222000000000000000000020332033111001111100011111000110011001102055200000000000000000000000000110011000205520000000000000000000000000000000000020111100000000000000000000000000000000002000000000000000030003000000000220022000200000000000000030000030000200000000000020000000000000000300030000020000000000002000003030300000000200000002011001100110200003030303030303020000000200011001100020000000000030303032111111000000000000000000000000000000000203030303030000000000000000011100070000023030303030300000000000000000000011100002000000000000000000000011110000000000000200000000000000000000001111111111111111111111111111111111111111",
[1,2]],["Level 4",[75,370],[I-24,24],[83,365],[80,53],3E5,"33333300000000000000000000000000000000600000000000000000000000000000000000000011055000000000000000000000003333000000000005500000000000000002000000000000000000001111110010011001111201110011110000000000000000000003300000020000000000100000000000000000000000000702000000000001000000000001110000000000111111000000000010020000002000000000000033333330000333330102100000200033333300000000000000000000000200000020000000000000000000000000000000020000002000000000000010010010011000020202000000201111111111111000000033311001111211100020033333333330000000000003300000033333002000000000000000000000000000000000000000200000000000000000200000000000020000000020111100111110011120111001111112011111002000000000000000002000000303030200000000200000000000000000207000000000020000000000333330003030300011110000200002000000000000000000000000000000000021111200000000000000000000000000000000002000000000001111111111111111111111111111111111111111",
[1,2,3]]],B=window.localStorage&&window.localStorage.oa&&JSON.parse(window.localStorage.oa)||gb,jb=B.length-gb.length+1,x=0;qa.onload=function(){Na.width=$a=qa.naturalWidth;Na.height=qa.naturalHeight;var a=Na.getContext("2d");a.translate(qa.naturalWidth,0);a.scale(-1,1);a.drawImage(qa,0,0)};qa.src="img/imgmap.png";window.addEventListener("keyup",Y.M,!1);window.addEventListener("keydown",Y.L,!1);if(X){q(U,Ja,function(){e.state===t.g&&H()});xa("s",function(){e.state===t.g?Y.L({keyCode:68}):ua()},function(){Y.M({keyCode:68})});
xa("a",function(a){e.state===t.g?Y.L({keyCode:74}):M(a)},function(){Y.M({keyCode:74})});var Ka=document.getElementById("o"),ja=Ka.getBoundingClientRect(),hb=[100,100],Za=!1,sa,ib=function(a){a.preventDefault();sa=a.changedTouches||a;ja=Ka.getBoundingClientRect();Za=!0};q(Ka,Ja,ib);q(Ka,fb,ib);q(Ka,Ra,function(a){a.preventDefault();Za=!1});xa("p",function(){Y.L({keyCode:e.state===t.g?73:32})},function(){Y.M({keyCode:e.state===t.g?73:32})});S("x",27);S("e",69);S("l",37);S("u",38);S("r",39);S("d",40);
S("c",67);S("t",84);S("n",78);q(document.body,"contextmenu",function(a){a.preventDefault()})}else q(U,"click",ua),q(U,"contextmenu",M),q(U,"mousedown",function(a){1===a.which&&(Ta=!0);e.state===t.e&&Ta&&ua()}),q(U,"mouseup",function(a){1===a.which&&(Ta=!1)}),q(U,"mousemove",function(a){var b=l(a);z=[b[0],b[1]];e.state===t.i?(a=l(a),f.h=a.slice()):e.state===t.e&&Ta&&ua()});for(var Ua=0;Ua<ea.length;Ua++)ab[Ua]=Va.ua(["synth",0,0.4,0,0.208,0,0.12,20,ea[Ua],2400,0,0,0,0.01,3E-4,0,0,0,0,0,0,0,0,1,0,0,
0.1,0]);Oa=na.slice();u(C.na,["square",0,0.4,0,0.174,0,0.28,20,497,2400,0.22,0,0,0.01,3E-4,0,0,0,0.0665,0,0,0,0,0.783,0,0,0,0]);u(C.qa,["noise",0,0.4,0,0.14,0.405,0.116,20,479,2400,-0.07,0,0,0.01,3E-4,0,0,0,0,0,0,-0.086,-0.122,1,0,0,0,0]);u(C.ia,["square",0,0.4,0,0.098,0.504,0.282,20,1582,2400,0,0,0,0.01,3E-4,0,0,0,0,0,0,0,0,1,0,0,0,0]);u(C.ra,["saw",0,0.4,0,0.324,0,0.284,20,631,2400,0.172,0,0.498,19.35,3E-4,0,0,0,0,0,0,0,0,1,0,0,0,0]);u(C.ja,["saw",0,0.4,0,0.212,0,0.028,20,1169,2400,-0.52,0,0,0.01,
3E-4,0,0,0,0.5,-0.592,0,0.094,0.066,1,0,0,0.28,0]);u(C.ka,["synth",0,0.4,0,0.32,0.348,0.44,20,372,417,0,0,0,0.01,3E-4,0,0.374,0.264,0,0,0,0,0,1,0,0,0,0]);u(C.sa,["synth",0,0.4,0,0.13,0.345,0.41,253,1168,1407,-0.0060,-0.082,0,0.01,3E-4,0,0.206,0.166,0,0,0,0,0,1,0,0,0,0]);u(C.W,["noise",0,0.4,0,0.0020,0.024,0.09,20,372,2400,0,0,0,0.01,3E-4,0,-0.342,0.809,0,0,0,0,0,1,0,0,0,0]);u(C.Aa,["noise",0,0.4,0,0.152,0.393,0.274,20,839,2400,-0.31,0,0,0.01,3E-4,0,-0.34,0.783,0,0,0.6096,0.526,-0.0080,1,0,0,0,0]);
u(C.X,["square",0,0.4,0,0.04,0,0.048,20,578,2400,0.104,0,0.683,19.158,3E-4,0,0,0,0.385,0,0,0,0,1,0,0,0,0]);u(C.n,["square",0,0.4,0,0.046,0.477,0.24,20,1197,2400,0,0,0,0.01,3E-4,0,0.498,0.204,0,0,0,0,0,1,0,0,0,0]);u(C.ma,["noise",0,0.4,0,0.108,0.336,0.124,20,462,2400,0,0,0,0.01,3E-4,0,0,0,0,0,0,0,0,1,0,0,0,0]);D(x);(function J(h){var q=h,l=$(),u=b.Ka,H=b.position[0],M=b.position[1],k=Y.ga;if(e.state===t.g)if(k[37]&&!b.c)x=(x+B.length-1)%B.length,D(x),b.c=!0;else if(k[39]&&!b.c)x=(x+1)%B.length,D(x),
b.c=!0;else if(k[69]&&!b.c)b.c=!0,B[x][r.O]||ta(),ha(t.e),k[69]=void 0;else if(k[68]&&!b.c)b.c=!0,B[x][r.O]&&(B.splice(x,1),x--,D(x)),k[68]=void 0;else if(k[74]&&B[x][r.O]&&!b.c)l=prompt("Data",JSON.stringify(B[x])),k[74]=void 0;else if(k[73]){if(l=prompt("Data"))try{ta(JSON.parse(l))}catch(S){alert("Error!")}k[73]=void 0}else k[37]||(k[39]||k[68]||k[69]||k[74]||k[73])||(b.c=!1);else{if(e.state===t.e)if(k[37]&&!b.c)N=(N+oa-1)%oa,b.c=!0;else if(k[39]&&!b.c)N=(N+1)%oa,b.c=!0;else if(k[67]&&!b.c){b.c=
!0;try{var O=JSON.parse(prompt("Crates",JSON.stringify(B[x][r.l])));if(O instanceof Array){for(l=0;l<O.length;l++)"number"===!typeof l&&alert("Error!"),O[l]=Math.max(1,Math.min(5,O[l]));B[x][r.l]=O;Ea(B[x])}}catch(W){alert("Error!")}k[67]=void 0}else k[78]&&!b.c?(b.c=!0,(l=prompt("Name",B[x][r.P]))&&(B[x][r.P]=l),k[78]=!1):k[84]&&!b.c?(b.c=!0,q=+prompt("Time",B[x][r.F]),!isNaN(q)&&0<q&&(B[x][r.F]=q),k[84]=!1):k[69]&&!b.c?(b.c=!0,la(),k[69]=void 0):k[37]||(k[39]||k[67]||k[78]||k[84]||k[69])||(b.c=
!1);else if(e.state===t.i){if(!k[32]||b.u||b.j||b.q)k[69]&&!b.q?(b.q=!0,0<b.G&&(b.G--,b.T=3,b.ha=q+5E3,O=Object.create(pb),O.position=[b.position[0]+4,b.position[1]-7],ya.push(O),A(C.ra))):k[32]||(k[69]||!b.q)||(b.q=!1);else a:if(b.q=!0,O=b.d,q=void 0!==O?K[O]:void 0,void 0===q){for(O=0;O<K.length;O++)if(Aa(b.position,K[O].position)){b.d=O;A(C.W);break a}da(F.n)&&(b.G=3,A(C.n))}else b.d=void 0,A(C.W),da(F.la)&&void 0!==q&&(K.splice(O,1),0>=K.length?za():A(C.ia));k[38]?da(F.o)?(b.position[1]=Math.min(G-
w,M-u),b.c=!0):b.u||b.j||(b.r=b.Ja,b.R=l,b.u=!0,b.j=!0,A(C.na)):!k[38]&&b.u&&(b.u=!1);k[37]&&(b.position[0]=Math.max(w,H-va()),b.c=!0,b.p=!0);k[39]&&(b.position[0]=Math.min(I-2*w,H+va()),b.c=!0,b.p=!1);k[40]&&da(F.o)&&(b.position[1]=Math.min(G,M+u),b.c=!0);k[37]||(k[38]||k[39]||k[40])||(b.c=!1)}k[27]&&la()}Ia=h;if(Za&&sa){var T;if(sa.clientX)T=sa;else if(sa instanceof TouchList)for(l=0;l<sa.length;l++)if(k=sa[l],k.clientX>=ja.left&&k.clientX<ja.left+ja.width&&k.clientY>=ja.top&&k.clientY<ja.top+ja.height){T=
sa[l];break}if(T){T=[T.clientX-ja.left,T.clientY-ja.top];var k=wa(hb,T),l=ba(hb,T)/12.5,m;e.state===t.i?m=f.position:e.state===t.e&&(m=z);m&&(m[0]+=(e.state===t.e?Math.round(Math.cos(k)):Math.cos(k))*(100>T[0]?-l:l),m[1]+=(e.state===t.e?Math.round(Math.sin(k)):Math.sin(k))*(100>T[0]?-l:l),m[0]=Math.max(0,Math.min(m[0],I-1)),m[1]=Math.max(0,Math.min(m[1],G-1)));Xa&&ua()}}if(e.state===t.i){e.Q=U.getBoundingClientRect();m=0;for(var p;m<=b.r;){if(Ba(b.position[0]-8,b.position[1]+m,16,0,F.ca)){p=b.position[1]+
m-(b.position[1]+m)%w;break}m+=w}p?(b.position[1]=p,b.j&&(b.R=0,(p=void 0!==b.d&&K[b.d])&&b.r>12-p.size&&R(p,h)),b.j=!1,b.r=0):V(b.position[0]-16,b.position[1]-32,16,32,F.o)?b.j=!1:(b.r+=1,b.j=!0,b.position[1]+=b.r);void 0!==b.d&&(K[b.d].position[0]=b.position[0]+eb[0],K[b.d].position[1]=b.position[1]+eb[1]);b.ha<h&&0<b.T&&(b.T=0);for(p=0;p<ra.length;p++)if(m=ra[p],m.position[1]+=m.speed,Aa(b.position,m.position)&&void 0!==b.d)R(K[b.d],h),ra.splice(p,1),p--;else if(m.position[1]>G||Ba(m.position[0],
m.position[1],0,0,F.D))ra.splice(p,1),p--;e.time<h&&P();ma(f);L.position&&(void 0!==b.d&&15>ba(b.position,L.position)&&R(K[b.d],h),15>ba(f.position,L.position)&&ia(h),L.wa<h&&aa(h),ma(L));p=Ba(f.position[0],f.position[1],0,0,F.t)?y:f.position;m=wa(n,p);T=n[0]>p[0]?-1:1;if(3<Math.abs(p[0]-n[0])||3<Math.abs(p[1]-n[1]))n[0]+=Math.cos(m)*T*v,n[1]+=Math.sin(m)*T*v;(7*$()+25>=ba(f.position,b.position)||V(f.position[0],f.position[1],0,0,F.D)||3>ba(n,f.position))&&f.v<h&&ia(h)}e.Q=U.getBoundingClientRect();
s.fillStyle="black";s.fillRect(0,0,I,G);for(p=0;p<Z;p++)for(m=0;m<La;m++)Ca(ga[Z*m+p],p*w,m*w);for(m=0;m<K.length;m++)m!==b.d&&(p=K[m],s.drawImage(p.fa,p.position[0]-8,p.position[1]-8));for(m=0;m<ya.length;m++)p=ya[m],g(E.Ba,p.position[0]-8,p.position[1]-8);for(m=0;m<ra.length;m++)p=ra[m],g(E.Ca,p.position[0]-8,p.position[1]-8);g(E.w,a[0],a[1]);if(e.m[r.B])for(p=0;p<e.m[r.B].length;p++){m=s;H=e.m[r.B][p][2];T=e.m[r.B][p][0];u=e.m[r.B][p][1];k=m.fillColor;l=m.textAlign;m.fillStyle="black";for(H=H.slice();0<
H.length;)m.fillText(H.shift(),T,u),u+=10;m.fillStyle=k;m.textAlign=l}L.position&&g(5<ba(L.position,L.h)?E.za:E.ya,L.position[0]-8,L.position[1]);e.state===t.i?b.j?c(E.C,b.position[0]-8,b.position[1]-24,0,b.p):b.c?c(E.C,b.position[0]-8,b.position[1]-24,10,b.p,h):c(E.C,b.position[0]-8,b.position[1]-24,1,b.p):c(E.C,b.position[0]-8,b.position[1]-24,1);void 0!==b.d&&(p=K[b.d],s.drawImage(p.fa,b.p?p.position[0]+2:p.position[0]-15-p.size,p.position[1]-10));7*$()+75>=ba(f.position,b.position)&&(s.beginPath(),
s.arc(b.position[0],b.position[1],7*$()+25,0,360),s.lineWidth=2,s.strokeStyle="#f09",s.stroke());e.state===t.i?f.v>h&&0===Math.floor(h/100)%2||c(E.s,f.position[0]-8,f.position[1]-8,2,!1,h):c(E.s,f.position[0]-8,f.position[1]-8,0);s.fillStyle="red";s.fillRect(n[0]-1,n[1]-1,2,2);s.beginPath();s.arc(n[0],n[1],5,0,360);s.lineWidth=2;s.strokeStyle="red";s.stroke();s.fillStyle="white";e.state===t.i?(s.fillText("\u2699 "+Math.max(0,Math.ceil((e.time-h)/1E3))+"   \u00a7 "+b.G+"   \u25fc "+b.H,50,396),s.fillText("\u21a1 "+
f.k+"   \u2665 "+f.K,530,12),s.fillStyle="#00deff",s.fillText("LUKE",10,396),s.fillStyle="red",s.fillText("CROW",600,12)):e.state===t.e&&s.fillText("< > CHANGE BLOCK   C: CRATES   T: TIME ("+B[x][r.F]+")   N: NAME ("+B[x][r.P]+")"+(X?"   S: PAINT   A: TOGGLE PAINT   DPAD: MOVE":""),12,12);e.state===t.g&&s.drawImage(Qa,0,0);e.state===t.e&&(s.globalAlpha=0.6,N<Q?(Ca(""+N,z[0]-z[0]%w,z[1]-z[1]%w),s.strokeStyle="#000",s.strokeRect(z[0]-z[0]%w,z[1]-z[1]%w,w,w)):N===fa.pa?c(E.C,z[0]-8,z[1]-24,1):N===fa.s?
c(E.s,z[0]-8,z[1]-8,0):N===fa.w?g(E.w,z[0],z[1]):N===fa.l&&(s.fillStyle="yellow",s.fillRect(z[0]-8,z[1]-8,16,16),s.fillStyle="#000",s.fillText("C",z[0]-4,z[1]+4)),s.globalAlpha=1);window.requestAnimationFrame(J)})()})();

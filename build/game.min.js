/* http://github.com/4lbertoC/mirrordelivery */var la={};
(function(a){function u(a,c){return c?P(a&255)+u(a>>8,c-1):""}var w=this.pa=a||44100,s=2*w,P=String.fromCharCode,e;this.Ga=function(a){var c=Audio,g=btoa,f="",x=a.length;for(n=0;n<x;n++)var S=32767*a[n]|0,S=-32768>S?-32768:32767<S?32767:S,S=S+(0>S?65536:0),f=f+String.fromCharCode(S&255,S>>8);a=f;a=["RIFF",36+(e=a.length),"WAVEfmt ",16,1,1,w,s,2,16,"data",e,a];f="";for(n=0;n<a.length;n++)f+="s"=="s4s4224422s4s"[n]?a[n]:u(a[n],"s4s4224422s4s".charCodeAt(n)-48);return new c("data:audio/wav;base64,"+g(f))};
var c,n,f=Math.sin,g=2*Math.PI;this.filter=function(a,g,f,e,x,s,w,u,P,D){f=f?f:1;e=e?e:a.length;c=a.slice(0);for(n=f;n<e;n++)c[n]=g(a,c,f,e,n,x,s,w,u,P,D);return c};this.filters={Ma:function(a,c,f,g,x,e){return c[x-1]+e*(a[x]-c[x-1])},Na:function(a,c,f,g,e,n){return c[e-1]+n*(g-e)/(g-f)*(a[e]-c[e-1])},La:function(a,c,f,g,e,n){return n*(c[e-1]+a[e]-a[e-1])}};this.ra=function(a,c,e,f,s,u,P,D,V){c=c*g/w;var H=Array(a|0);for(n=0;n<a;n++)H[n]=e(n*c,f,s,u,P,D,V);return H};var D=0;this.F={Ha:function(a){4>
a%g&&(D=2*Math.random()-1);return D},Oa:Math.random,Ja:Math.sin,Ka:function(a){return f(a)+0.5*f(a/2)+0.3*f(a/4)},Ia:function(a){return 2*(a/g-(a/g+0.5|0))},sa:function(a,c){return f(a)>c?1:f(a)<c?-1:c}}}).apply(la);var Da={};
(function(){this.Z=[];this.W={square:la.F.sa,saw:la.F.Ia,sine:la.F.Ja,noise:la.F.Ha,synth:la.F.Ka};this.Ca=function(){var a=[],u;for(u in this.W)a.push(u);return a};this.Da=function(){function a(a,e,c,n,f){void 0===f&&(f=(c-e)/1E3);a={name:a,id:a.replace(/ /g,""),min:e,max:c,step:f,Ba:n,type:"range",group:w};u.push(a)}var u=[],w=0,s=this.Ca();(function(a,e,c){a={name:a,id:a.replace(/ /g,""),options:e,Ba:c,type:"option",group:w};u.push(a)})("Generator",s,s[0]);a("SuperSamplingQuality",0,16,0,1);a("MasterVolume",
0,1,0.4);w++;a("AttackTime",0,1,0.1);a("SustainTime",0,2,0.3);a("SustainPunch",0,3,2);a("DecayTime",0,2,1);w++;a("MinFrequency",20,2400,0,1);a("StartFrequency",20,2400,440,1);a("MaxFrequency",20,2400,2E3,1);a("Slide",-1,1,0);a("DeltaSlide",-1,1,0);w++;a("VibratoDepth",0,1,0);a("VibratoFrequency",0.01,48,8);a("VibratoDepth Slide",-0.3,1,0);a("VibratoFrequencySlide",-1,1,0);w++;a("ChangeAmount",-1,1,0);a("ChangeSpeed",0,1,0.1);w++;a("SquareDuty",0,0.5,0);a("SquareDutySweep",-1,1,0);w++;a("RepeatSpeed",
0,0.8,0);w++;a("PhaserOffset",-1,1,0);a("PhaserSweep",-1,1,0);w++;a("LPFilterCutoff",0,1,1);a("LPFilterCutoffSweep",-1,1,0);a("LPFilterResonance",0,1,0);a("HPFilterCutoff",0,1,0);a("HPFilterCutoffSweep",-1,1,0);return u};this.ra=function(a){var u=2*Math.PI,w=Math.sin,s=Math.pow,P=Math.abs,e=la.pa,c=a.SuperSamplingQuality|0;1>c&&(c=1);for(var e=e*c,n=[{D:0,R:1,time:a.AttackTime},{D:1+a.SustainPunch,R:1,time:a.SustainTime},{D:1,R:0,time:a.DecayTime}],f=n.length,g=0;g<f;g++)n[g].O=1+(n[g].time*e|0);
for(var D=void 0,ba=0,ma=-1,J=0,za=-1,x=0,g=0;g<f;g++)x+=n[g].O;x<e/2&&(x=e/2);var S=Array(x/c|0),K=0,sa=0,V=Da.W[a.Generator];void 0===V&&(V=this.W.sa);var H=0,H=a.SquareDuty,Ja=a.SquareDutySweep/e,fa=0,T=a.StartFrequency*u/e,ta=1+64*s(a.Slide,3)/e,O=s(a.DeltaSlide,3)/(1E3*e);void 0!==c&&(O/=c);a.MinFrequency>a.StartFrequency&&(a.MinFrequency=a.StartFrequency);a.MaxFrequency<a.StartFrequency&&(a.MaxFrequency=a.StartFrequency);for(var na=a.MinFrequency*u/e,Ea=a.MaxFrequency*u/e,ua=0,oa=a.VibratoFrequency*
u/e,aa=a.VibratoDepth,pa=1+3*s(a.VibratoFrequencySlide,3)/e,ga=a.VibratoDepthSlide/e,ca=0,ha=a.ChangeSpeed*e,z=s(a.ChangeAmount,2),z=0<a.ChangeAmount?1+10*z:1-0.9*z,va=Array(1024),g=0;1024>g;g++)va[g]=0;var wa=0,E=1020*s(a.PhaserOffset,2),L=4E3*s(a.PhaserSweep,3)/e,A=1E-5<P(L)||1E-5<P(E),ia=0.0010<a.HPFilterCutoff||0.999>a.LPFilterCutoff,da=0,F=0,W=s(a.LPFilterCutoff,3)/10,Ka=1+a.HPFilterCutoffSweep/1E4,ea=5/(1+20*s(a.LPFilterResonance,2))*(0.01+a.LPFilterCutoff);0.8<ea&&(ea=0.8);var ea=1-ea,La=0.999>
a.LPFilterCutoff,y=0,C=s(a.HPFilterCutoff,2)/10,ja=1+a.HPFilterCutoffSweep/1E4,Y=0,Aa=x;0<a.RepeatSpeed&&(Aa=s(1-a.RepeatSpeed,2)*e+32);for(var r=a.MasterVolume,Ba=0,g=0;g<x;g++)K=V(fa,H,0),H+=Ja,0>H?H=0:0.5<H&&(H=0.5),Y>Aa&&(fa=0,T=a.StartFrequency*u/e,ta=1+3*s(a.Slide,3)/e,O=s(a.DeltaSlide,3)/(1E3*e),void 0!==c&&(O/=c),ca=0,ha=a.ChangeSpeed*e,z=1+(a.ChangeAmount|0)/12,Y=0),Y+=1,fa+=T,ta+=O,T*=ta,ca>ha&&(T*=z,ha=x),ca+=1,T>Ea?T=Ea:T<na&&(T=na),ua+=oa,D=T*w(ua)*aa,fa+=D,oa*=pa,ga&&(aa+=ga,0>aa?ga=
aa=0:1<aa&&(aa=1,ga=0)),ia&&(0.0010<P(C)&&(C*=ja,1E-5>C?C=1E-5:0.1<C&&(C=0.1)),D=da,W*=Ka,0>W?W=0:0.1<W&&(W=0.1),La?(F+=(K-da)*W,F*=ea):(da=K,F=0),da+=F,y+=da-D,K=y*=1-C),A&&(E+=L,0>E&&(E=-E,L=-L),1023<E&&(E=1023,L=0),va[wa]=K,K+=va[wa-(E|0)+1024&1023],wa=wa+1&1023),g>za&&(ma+=1,D=ma<f?n[ma]:{D:0,R:0,O:x},ba=D.D,J=(D.R-D.D)/(D.O+1),za+=D.O),K*=ba,ba+=J,K*=r,1<c?(sa+=K,0===(g+1)%c&&(S[Ba]=sa/c,Ba+=1,sa=0)):S[g]=K;a=e/100|0;u=Array(a);for(g=0;g<a;g++)u[g]=0;return u.concat(S).concat(u)};this.Z=this.Da()}).apply(Da);var Ta={};(function(){this.qa=function(a){a=Da.ra(this.ya(a));return la.Ga(a)};this.ya=function(a){for(var u={},w=Da.Z.length,s=0;s<w;s++)u[Da.Z[s].id]=a[s];return u}}).apply(Ta);(function(){var a,u,w,s,P,e,c,n,f;function g(a,b,Ca){a.addEventListener?a.addEventListener(b,Ca,!1):a.attachEvent?a.attachEvent("on"+b,Ca):a["on"+b]=Ca}function D(a,b,Ca,c,l,e){var f=W[a].frame,d=W[a].g;a=W[a].frames;c=e?a[Math.floor(e*c/1E3)%a.length]:a[c];l?q.drawImage(Ma,Wa-(f.x+c.x)-c.b,f.y+c.y,c.b,c.c,b+d.x,Ca+d.y,c.b,c.c):q.drawImage(qa,f.x+c.x,f.y+c.y,c.b,c.c,b+d.x,Ca+d.y,c.b,c.c)}function ba(a,b,c,f,l){var d=W[a].frame;a=W[a].g;q.drawImage(qa,d.x,d.y,f||d.b,l||d.c,b+a.x,c+a.y,a.b,a.c)}function ma(a){var b=
a.clientX-d.L.left;a=a.clientY-d.L.top;b=Math.max(0,Math.min(b,E-1));a=Math.max(0,Math.min(a,L-1));return[b,a]}function J(a,b){if(ea)try{Fa[a]=Ta.qa(b)}catch(c){}}function za(){if(ea)try{d.state===r.h&&0<Na.length&&(Xa[Na.shift()].play(),setTimeout(za,200))}catch(a){}}function x(a){if(ea)try{Fa[a]&&(Fa[a].pause(),Fa[a].currentTime=0,Fa[a].play())}catch(b){}}function S(a){a=a||B[t];a=["CustomLevel"+bb++,a[p.Y].slice(),a[p.V].slice(),a[p.S].slice(),a[p.m]&&a[p.m].slice(),a[p.B],a[p.X],a[p.j].slice(),
null,!0];B.push(a);d.state===r.f&&(t=B.length-1,V(t))}function K(){return Math.max(1,b.speed+b.P-(void 0!==b.d?U[b.d].size:0))}function sa(a){var b=a[p.S],c,d,l,f;Oa.I=b;for(var e=U.length=0;e<a[p.j].length;e++)c=a[p.j][e],d=Object.create(Oa),d.size=c,l=document.createElement("canvas"),l.width=Pa+c,l.height=Pa+c,f=l.getContext("2d"),f.fillStyle="yellow",f.fillRect(0,0,Pa+c,Pa+c),f.fillStyle="black",f.fillText(c,5,10),d.ba=l,l=b[0]+16*e,c=b[1]-c,d.position=[l,c],d.I=[l,c],U.push(d)}function V(G){G=
d.k=B[G]||B[t];T(r.f);b.position=G[p.Y].slice();a=G[p.V].slice();b.C=0;b.Q=0;b.d=void 0;b.M=Ba;b.p=!1;b.t=!1;b.a=!1;b.i=!1;b.o=!1;u=Ya;s=w=0;d.time=0;T(r.f);Q=0;G[p.m]?(c=G[p.m].slice(),n=[G[p.m][0]+15,G[p.m][1]+23],f=n.slice()):n=c=null;xa="4444444444444444444444444444444444444444"+G[p.X]+"4444444444444444444444444444444444444444";xa=xa.split("");sa(G);ya.length=0;ra.length=0;Qa.width=E;Qa.height=L;var I=Qa.getContext("2d");I.fillStyle="rgba(0,0,0,0.7)";I.fillRect(0,0,E,L);I.fillStyle="#fff";I.font=
"20px courier";I.textAlign="center";I.fillText(d.k[p.K],E/2,L/2-50);I.fillText("Delivery Boy "+d.$+" - "+d.aa+" Crow",E/2,L/2);I.font="15px courier";I.fillText("Click the "+($?"screen":"crow")+" to start!",E/2,L/2+60);I.fillText("< >: Select level",E/2,L/2+100);I.fillText(G[p.J]?"E: EDIT   "+($?"1":"D")+": DELETE   "+($?"2":"J")+": EXPORT   I: IMPORT":"E: EDIT   I: IMPORT",E/2,L/2+120);I.beginPath();I.arc(a[0],a[1],16,0,360);I.lineWidth=1;I.strokeStyle="#fff";I.stroke();Na=La.slice();window.localStorage&&
(window.localStorage.ja=JSON.stringify(B))}function H(){T(r.h);d.time=Ga+d.k[p.B];za();X.style.cursor="none"}function Ja(){d.$+=1;X.style.cursor="auto";x(y.oa);V(t)}function fa(){d.aa+=1;X.style.cursor="auto";x(y.fa);V(t)}function T(a){d.state=a;if($){var b=document.getElementsByClassName("edit");a="btn edit"+(a===r.e?"":" h");for(var c=0;c<b.length;c++)b[c].setAttribute("class",a)}}function ta(){X.style.cursor="auto";d.state===r.e&&(B[t][p.X]=xa.join("").substring(ia,ia*da-ia),B[t][p.Y]=b.position.slice(),
B[t][p.V]=a.slice(),B[t][p.m]=c?c.slice():void 0,B[t][p.S]=Oa.I.slice());V(t)}function O(b){b.preventDefault();if(d.state===r.e)Ua=!Ua;else if(d.state===r.h&&s<Ga)if(b=ma(b),(ca(a[0]-8,a[1]-8,16,16,C.s)||ga(a[0],a[1],0,0,C.s))&&w<cb)x(y.U),w++;else{var c;for(c=0;c<ya.length;c++)if(ua(b,ya[c].position)){w=Math.max(w,db);x(y.U);ya.splice(c,1);break}}}function na(){if(d.state===r.e)if(Q<ja){var G=v[1];0<G&&G<da-1&&(xa[ia*Math.floor(G/A)+Math.floor(v[0]/A)]=""+Q)}else if(Q===Y.ka)b.position=v.slice();
else if(Q===Y.r)a=v.slice();else if(Q===Y.u&&c)c=v.slice(),n=[c[0]+15,c[1]+23],f=n.slice();else{if(Q===Y.j)for(Oa.I=v.slice(),G=0;G<U.length;G++){var I=U[G];I.position[0]=v[0]+16*G;I.position[1]=v[1]-I.size}}else d.state!==r.f||$?0<w&&s<Ga&&(w--,x(y.ea),G=Object.create(eb),G.position=a.slice(),ra.push(G)):v[0]>a[0]-16&&(v[0]<a[0]+16&&v[1]>a[1]-16&&v[1]<a[1]+16)&&H()}function Ea(){var a=b.N,c=K();b.a||(a=0);a=Math.min(c,a+c/7);b.N=a;return ha(C.n)?c/2:a}function ua(a,b){return Math.round(a[0]/A)===
Math.round(b[0]/A)&&Math.round(a[1]/A)===Math.round(b[1]/A)}function oa(a,b){return Math.sqrt(Math.pow(a[0]-b[0],2)+Math.pow(a[1]-b[1],2))}function aa(a,b){return Math.atan((b[1]-a[1])/(b[0]-a[0]))}function pa(a,b){return xa[ia*Math.floor(b/A)+Math.floor(a/A)]}function ga(a,b,c,d,l){var f=b,e=pa(a,f);c=a+c;topRight=pa(c,f);bottomRight=pa(c,b+d);bottomLeft=pa(a,b);return e===l||topRight===l||bottomRight===l||bottomLeft===l}function ca(a,b,c,d,l){b+=d;d=pa(a,b);bottomLeft=pa(a+c,b);return d===l||bottomLeft===
l}function ha(a){return ga(b.position[0]-8,b.position[1]-32,16,32,a)||ga(b.position[0],b.position[1]-8,0,0,a)}function z(a,b){var c=document.getElementById(a);g(c,"touchstart",function(){Z.G({keyCode:b})});g(c,"touchend",function(){Z.H({keyCode:b})})}function va(a,b,c){a=document.getElementById(a);g(a,"touchstart",b);g(a,"touchend",c)}function wa(a,b,c){var d=null,l="#00deff";a===C.ma?d=F.xa:a===C.A?d=F.A:a===C.wa?l="#000":a===C.ga?l="#0f0":a===C.s?d=F.s:a===C.n?d=F.n:a===C.l&&(d=F.l);q.fillStyle=
l;q.fillRect(b,c,A,A);null!==d&&ba(d,b,c,A,A)}var E=640,L=400,A=16,ia=E/A,da=L/A,F={r:0,ua:1,l:2,u:3,n:4,w:5,s:6,A:7,va:8,xa:9},W=[{frame:{x:30,y:0,b:30,c:14},g:{x:1,y:1,b:30,c:14},frames:[{x:1,y:1,b:15,c:13},{x:17,y:1,b:15,c:13}]},{frame:{x:14,y:40,b:14,c:8},g:{x:1,y:7,b:14,c:8}},{frame:{x:32,y:14,b:16,c:16},g:{x:0,y:0,b:16,c:16}},{frame:{x:0,y:24,b:14,c:24},g:{x:1,y:7,b:14,c:24}},{frame:{x:16,y:48,b:16,c:16},g:{x:0,y:0,b:16,c:16}},{frame:{x:0,y:0,b:30,c:24},g:{x:1,y:3,b:30,c:24},frames:[{x:0,y:0,
b:15,c:24},{x:15,y:0,b:15,c:24}]},{frame:{x:48,y:14,b:16,c:10},g:{x:0,y:10,b:16,c:10}},{frame:{x:14,y:24,b:16,c:16},g:{x:0,y:0,b:16,c:16}},{frame:{x:31,y:30,b:6,c:14},g:{x:4,y:1,b:6,c:14}},{frame:{x:0,y:48,b:16,c:16},g:{x:0,y:0,b:16,c:16}}],Ka=[523.25,587.33,659.26,698.46,783.99,880,987.77,1046.5,1108.73],ea=window.btoa&&window.atob,La="023123467".split(""),y={ia:0,la:1,ea:2,ta:3,T:4,da:5,oa:6,fa:7,na:8,U:9,l:10,ha:11},C={EMPTY:"0",ma:"1",n:"2",A:"3",wa:"4",ga:"5",s:"6",l:"7"},ja=8,Y={ka:ja+0,r:ja+
1,u:ja+2,j:ja+3},Aa=ja+4,r={f:0,h:1,e:2},Ba=10,Pa=12,Za=[1,-6],cb=3,db=5,Ya=10,p={K:0,Y:1,V:2,S:3,m:4,B:5,X:6,j:7,v:8,J:9};(function(){for(var a=0,b=["webkit","moz"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,
16-(c-a)),f=window.setTimeout(function(){b(c+d)},d);a=c+d;return f});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})})();var $=!1;if("ontouchstart"in document.documentElement)for(var $=!0,R=document.getElementsByClassName("btn"),Ra=0;Ra<R.length;Ra++)-1===R[Ra].getAttribute("class").indexOf("edit")&&R[Ra].setAttribute("class","btn");var $a={za:function(a){var b,c={},d,f,e="",g=[],n=256;for(b=0;256>b;b+=1)c[String.fromCharCode(b)]=b;for(b=0;b<a.length;b+=1)d=
a.charAt(b),f=e+d,c.hasOwnProperty(f)?e=f:(g.push(c[e]),c[f]=n++,e=String(d));""!==e&&g.push(c[e]);return g},Aa:function(a){var b,c=[],d,f,e;e="";var g=256;for(b=0;256>b;b+=1)c[b]=String.fromCharCode(b);f=d=String.fromCharCode(a[0]);for(b=1;b<a.length;b+=1){e=a[b];if(c[e])e=c[e];else if(e===g)e=d+d.charAt(0);else return null;f+=e;c[g++]=d+e.charAt(0);d=e}return f}},X=document.getElementById("C"),q=X.getContext("2d"),qa=new Image,Ma=document.createElement("canvas"),Wa=0,Qa=document.createElement("canvas"),
Ga=0,v=[0,0],Sa=!1,Z={ca:{},H:function(a){Z.ca[a.keyCode]=void 0},G:function(a){Z.ca[a.keyCode]=Ga}},Fa=[],Xa={},Na,Q=0,Ua=!1,b={position:null,speed:4,N:0,P:0,Q:0,Fa:2,Ea:-7,t:!1,i:!1,a:!1,p:!1,q:0,d:void 0,C:0,M:Ba,o:!1};P=a=null;w=0;e=!1;s=0;u=Ya;var xa=[],Oa={ba:null,size:1,position:null,I:[0,0]},U=[],fb={position:null},ya=[],eb={position:null,speed:6},ra=[];f=n=c=null;var d={state:r.f,L:X.getBoundingClientRect(),time:0,$:0,aa:0,k:null},R=[["Tutorial",[33,370],[E-24,55],[300,365],[20,70],3E6,"00000000000000000000000000000000000000000000000000000000000000000000000000000000330000000000000000000000000000000000006000000000000000000000000000000000000000110000000000033300000000000006000000000000110000000003330000000000001110000000000000000000000333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003333333333333333333333333333333333333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000555500000000000000000000000000000000000055550000000000000000000000000000000000005555000000000007000000000000002000000000111111111111111111111111111111200000000000000000000000000000000000000020000000000000000000000000000000000000002000000000000000000000000000000000000000200000000000000000000000000000000000000020000000001111111111111111111111111111111111111111",
[1],[[20,340,["PLAYER 1"]],[100,340,["ARROWS: move/jump"]],[250,340,["SPACEBAR: grab/release crate"]],[500,340,["UP/DOWN: Climb ladder"]],[450,250,["Crates break if you fall from too high"]],[160,250,[($?"S":"SPACEBAR")+": buy candies when not holding crate","E: Use candy to gain speed"]],[10,230,["Deliver crate to green area"]],[560,30,["PLAYER 2",($?"DPad":"Mouse")+": move"]],[410,70,["Don't get shot","Hide in the nest"]],[410,130,[($?"2":"RClick")+": eat from nest or candy crumbs",($?"1":"LClick")+
": shoot!"]],[140,60,["Don't touch roofs or the boy"]]]],["Level 1",[25,366],[616,24],[41,364],[513,180],6E4,"00000000000000000000000000000000000000600000000000000000000000000000000000000011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000003330000000000000000000000000000000000003333300000000000000000000000000000000000055500000000000000000000000000000000000005550000020000000000000200000000000000000555020002000111111111120000333000000000111112000200133333330002000000000000000000000200021130000000000200000000000000000000020002000000000000020000000000000000000002000200020000000002111111100111001101111100111112000000000200000000000000000000000033333200000000020000000000000000000000000000020000000000000000000000000000000000000002000000000000000000000000000000000000000200000000000000000000000000000000001111111111111111111111111111111111111111",
[1,2]],["Level 2",[28,143],[600,296],[588,365],[51,50],12E4,"33330000000000000000000000000000000000005550000000000033000000000330000000000000555000000000000000000000000000000000000055500000000000000003030000000000000000001111111000000000000030000000000000110010000000010000000000000000000000000100301000000000000200000200000200000200000000100000000011120111102000201111021113002010111100000002000000020200000002000000211100000000000100000000200000000100000020000000000000000000000000000000000002002000000000000000000000000000000000030211100000001110000000000000000000000030020000000000000000000000003333300000000002000000000000000000000000000000000003020200000000000001100000000000000000000002110000000000000000000000000020700000020200000000000000000000000000112110000002020000060000000000010000000000200000000201000011100000000000000000000020000000020000000000000000000000000000002000000002000000000000000000000000000000200000000200000000001111111111111111111111111111111111111111",
[1,2]],["Level 3",[17,349],[281,39],[96,316],[49,163],24E4,"00000000000000010001000000000000000000000000000000300001666100003000000000000020000000000003000111110003000000000007002000000000000030000000003000000000001110203000000000000000000000000000000000000020332200000000000000000000000000000000002033202000000000000000000000000000000000203320320000000000222000000000000000000020332033111001111100011111000110011001102055200000000000000000000000000110011000205520000000000000000000000000000000000020111100000000000000000000000000000000002000000000000000030003000000000220022000200000000000000030000030000200000000000020000000000000000300030000020000000000002000003030300000000200000002011001100110200003030303030303020000000200011001100020000000000030303032111111000000000000000000000000000000000203030303030000000000000000011100070000023030303030300000000000000000000011100002000000000000000000000011110000000000000200000000000000000000001111111111111111111111111111111111111111",
[1,2]],["Level 4",[75,370],[E-24,24],[83,365],[80,53],3E5,"33333300000000000000000000000000000000605555530000000000000000000000000000000011555550000000000000000000003333000000000055555000000000000002000000000000000000001111110010011001111201110011110000000000000000000003300000020000000000100000000000000000000000000702000000000001000000000001110000000000111111000000000010020000002000000000000033333330000333330102100000200033333300000000000000000000000200000020000000000000000000000000000000020000002000000000000010010010011000020202000000201111111111111000000033311001111211100020033333333330000000000003300000033333002000000000000000000000000000000000000000200000000000000000200000000000020000000020111100111110011120111001111112011111002000000000000000002000000303030200000000200000000000000000207000000000020000000000333330003030300011110000200002000000000000000000000000000000000021111200000000000000000000000000000000002000000000001111111111111111111111111111111111111111",
[1,2,3]]],B=window.localStorage&&window.localStorage.ja&&JSON.parse(window.localStorage.ja)||R,bb=B.length-R.length+1,t=0;qa.onload=function(){Ma.width=Wa=qa.naturalWidth;Ma.height=qa.naturalHeight;var a=Ma.getContext("2d");a.translate(qa.naturalWidth,0);a.scale(-1,1);a.drawImage(qa,0,0)};qa.src="img/imgmap.png";window.addEventListener("keyup",Z.H,!1);window.addEventListener("keydown",Z.G,!1);if($){g(X,"touchstart",function(){d.state===r.f&&H()});va("s",function(){d.state===r.f?Z.G({keyCode:68}):
na()},function(){Z.H({keyCode:68})});va("e",function(a){d.state===r.f?Z.G({keyCode:74}):O(a)},function(){Z.H({keyCode:74})});var Ha=document.getElementById("o"),ka=Ha.getBoundingClientRect(),ab=[100,100],Va=!1,Ia,R=function(a){a.preventDefault();Ia=a.changedTouches;ka=Ha.getBoundingClientRect();Va=!0};g(Ha,"touchstart",R);g(Ha,"touchmove",R);g(Ha,"touchend",function(a){a.preventDefault();Va=!1});va("p",function(){Z.G({keyCode:d.state!==r.f?32:74})},function(){Z.H({keyCode:d.state!==r.f?32:74})});
z("a",69);z("l",37);z("u",38);z("r",39);z("d",40);z("g",71);z("c",67);z("t",84);z("n",78)}else g(X,"click",na),g(X,"contextmenu",O),g(X,"mousedown",function(a){1===a.which&&(Sa=!0);d.state===r.e&&Sa&&na()}),g(X,"mouseup",function(a){1===a.which&&(Sa=!1)}),g(X,"mousemove",function(a){var b=ma(a);v=[b[0],b[1]];d.state===r.h?P=ma(a).slice():d.state===r.e&&Sa&&na()});for(R=0;R<Ka.length;R++)Xa[R]=Ta.qa(["synth",0,0.4,0,0.208,0,0.12,20,Ka[R],2400,0,0,0,0.01,3E-4,0,0,0,0,0,0,0,0,1,0,0,0.1,0]);Na=La.slice();
J(y.ia,["square",0,0.4,0,0.174,0,0.28,20,497,2400,0.22,0,0,0.01,3E-4,0,0,0,0.0665,0,0,0,0,0.783,0,0,0,0]);J(y.la,["noise",0,0.4,0,0.14,0.405,0.116,20,479,2400,-0.07,0,0,0.01,3E-4,0,0,0,0,0,0,-0.086,-0.122,1,0,0,0,0]);J(y.da,["square",0,0.4,0,0.098,0.504,0.282,20,1582,2400,0,0,0,0.01,3E-4,0,0,0,0,0,0,0,0,1,0,0,0,0]);J(y.na,["saw",0,0.4,0,0.324,0,0.284,20,631,2400,0.172,0,0.498,19.35,3E-4,0,0,0,0,0,0,0,0,1,0,0,0,0]);J(y.ea,["saw",0,0.4,0,0.212,0,0.028,20,1169,2400,-0.52,0,0,0.01,3E-4,0,0,0,0.5,-0.592,
0,0.094,0.066,1,0,0,0.28,0]);J(y.fa,["synth",0,0.4,0,0.32,0.348,0.44,20,372,417,0,0,0,0.01,3E-4,0,0.374,0.264,0,0,0,0,0,1,0,0,0,0]);J(y.oa,["synth",0,0.4,0,0.13,0.345,0.41,253,1168,1407,-0.0060,-0.082,0,0.01,3E-4,0,0.206,0.166,0,0,0,0,0,1,0,0,0,0]);J(y.T,["noise",0,0.4,0,0.0020,0.024,0.09,20,372,2400,0,0,0,0.01,3E-4,0,-0.342,0.809,0,0,0,0,0,1,0,0,0,0]);J(y.ta,["noise",0,0.4,0,0.152,0.393,0.274,20,839,2400,-0.31,0,0,0.01,3E-4,0,-0.34,0.783,0,0,0.6096,0.526,-0.0080,1,0,0,0,0]);J(y.U,["square",0,0.4,
0,0.04,0,0.048,20,578,2400,0.104,0,0.683,19.158,3E-4,0,0,0,0.385,0,0,0,0,1,0,0,0,0]);J(y.l,["square",0,0.4,0,0.046,0.477,0.24,20,1197,2400,0,0,0,0.01,3E-4,0,0.498,0.204,0,0,0,0,0,1,0,0,0,0]);J(y.ha,["noise",0,0.4,0,0.108,0.336,0.124,20,462,2400,0,0,0,0.01,3E-4,0,0,0,0,0,0,0,0,1,0,0,0,0]);V(t);(function I(g){var J=g,l=K(),z=b.Fa,H=b.position[0],R=b.position[1],h=Z.ca;if(d.state===r.f)if(h[37]&&!b.a)t=(t+B.length-1)%B.length,V(t),b.a=!0;else if(h[39]&&!b.a)t=(t+1)%B.length,V(t),b.a=!0;else if(h[69]&&
!b.a)b.a=!0,B[t][p.J]||S(),T(r.e),h[69]=void 0;else if(h[68]&&!b.a)b.a=!0,B[t][p.J]&&(B.splice(t,1),t--,V(t)),h[68]=void 0;else if(h[74]&&B[t][p.J]&&!b.a){for(var l=$a.za(JSON.stringify(B[t])),z="",M=0,M=0;M<l.length;M++)z+=String.fromCharCode(l[M]);l=prompt("Level JSON",z);h[74]=void 0}else if(h[73]){if(l=prompt("Level JSON"))try{z=[];for(M=0;M<l.length;M++)z.push(l.charCodeAt(M));S(JSON.parse($a.Aa(z)))}catch(W){alert("Error!")}h[73]=void 0}else h[37]||(h[39]||h[68]||h[69]||h[74]||h[73])||(b.a=
!1);else{if(d.state===r.e)if(h[37]&&!b.a)Q=(Q+Aa-1)%Aa,b.a=!0;else if(h[39]&&!b.a)Q=(Q+1)%Aa,b.a=!0;else if(h[71]&&!b.a)c instanceof Array?c=n=f=null:(c=[32,32],n=[c[0]+15,c[1]+23],f=n.slice()),b.a=!0;else if(h[67]&&!b.a){b.a=!0;try{var O=JSON.parse(prompt("Crates",JSON.stringify(B[t][p.j])));if(O instanceof Array){for(l=0;l<O.length;l++)"number"===!typeof l&&alert("Error!"),O[l]=Math.max(1,Math.min(5,O[l]));B[t][p.j]=O;sa(B[t])}}catch(ea){alert("Error!")}h[67]=void 0}else h[78]&&!b.a?(b.a=!0,(l=
prompt("Name",B[t][p.K]))&&(B[t][p.K]=l),h[78]=!1):h[84]&&!b.a?(b.a=!0,J=+prompt("Time",B[t][p.B]),!isNaN(J)&&0<J&&(B[t][p.B]=J),h[84]=!1):h[69]&&!b.a?(b.a=!0,ta(),h[69]=void 0):h[37]||(h[39]||h[71]||h[67]||h[78]||h[84]||h[69])||(b.a=!1);else if(d.state===r.h){if(!h[32]||b.t||b.i||b.p)h[69]&&!b.p?(b.p=!0,0<b.C&&(b.C--,b.P=3,b.Q=J+5E3,M=Object.create(fb),M.position=[b.position[0]+4,b.position[1]-7],ya.push(M),x(y.na))):h[32]||(h[69]||!b.p)||(b.p=!1);else a:if(b.p=!0,M=b.d,O=void 0!==M?U[M]:void 0,
void 0===O){for(M=0;M<U.length;M++)if(ua(b.position,U[M].position)){b.d=M;x(y.T);break a}ha(C.l)&&(b.C=3,x(y.l))}else b.d=void 0,x(y.T),ha(C.ga)&&void 0!==O&&(U.splice(M,1),0>=U.length?Ja():x(y.da));h[38]?ha(C.n)?(b.position[1]=Math.min(L-A,R-z),b.a=!0):b.t||b.i||(b.q=b.Ea,b.N=l,b.t=!0,b.i=!0,x(y.ia)):!h[38]&&b.t&&(b.t=!1);h[37]&&(b.position[0]=Math.max(A,H-Ea()),b.a=!0,b.o=!0);h[39]&&(b.position[0]=Math.min(E-2*A,H+Ea()),b.a=!0,b.o=!1);h[40]&&ha(C.n)&&(b.position[1]=Math.min(L,R+z),b.a=!0);h[37]||
(h[38]||h[39]||h[40])||(b.a=!1)}h[27]&&ta()}Ga=g;if(Va&&Ia){for(var N,l=0;l<Ia.length;l++)if(h=Ia[l],h.clientX>=ka.left&&h.clientX<ka.left+ka.width&&h.clientY>=ka.top&&h.clientY<ka.top+ka.height){N=Ia[l];break}if(N){N=[N.clientX-ka.left,N.clientY-ka.top];var h=aa(ab,N),l=oa(ab,N)/12.5,k;d.state===r.h?k=a:d.state===r.e&&(k=v);k&&(k[0]+=(d.state===r.e?Math.round(Math.cos(h)):Math.cos(h))*(100>N[0]?-l:l),k[1]+=(d.state===r.e?Math.round(Math.sin(h)):Math.sin(h))*(100>N[0]?-l:l),k[0]=Math.max(0,Math.min(k[0],
E-1)),k[1]=Math.max(0,Math.min(k[1],L-1)));Ua&&na()}}if(d.state===r.h){d.L=X.getBoundingClientRect();k=0;for(var m;k<=b.q;){if(ca(b.position[0]-8,b.position[1]+k,16,0,C.ma)){m=b.position[1]+k-(b.position[1]+k)%A;break}k+=A}m?(b.position[1]=m,b.i&&(b.N=0,(m=void 0!==b.d?U[b.d]:void 0)&&b.q>12-m.size&&m&&breakCrate(m)),b.i=!1,b.q=0):ca(b.position[0]-16,b.position[1]-32,16,32,C.n)?b.i=!1:(b.q+=1,b.i=!0,b.position[1]+=b.q);void 0!==b.d&&(U[b.d].position[0]=b.position[0]+Za[0],U[b.d].position[1]=b.position[1]+
Za[1]);b.Q<g&&0<b.P&&(b.P=0);for(m=0;m<ra.length;m++)if(k=ra[m],k.position[1]+=k.speed,ua(b.position,k.position))x(y.la),b.d=void 0,(void 0).position=(void 0).I.slice(),b.M--,0>=b.M&&fa(),ra.splice(m,1),m--;else if(k.position[1]>L||ca(k.position[0],k.position[1],0,0,C.A))ra.splice(m,1),m--;d.time<g&&fa();a&&P&&(h=aa(a,P),l=a[0]>P[0]?-1:1,m=Math.abs(a[0]-P[0]),k=Math.abs(a[1]-P[1]),3<m||3<k)&&(N=16*Math.cos(h)*l,h=16*Math.sin(h)*l,Math.abs(N)>m&&(N=m*N/Math.abs(N)),Math.abs(h)>k&&(h=k*h/Math.abs(h)),
a[0]+=N,a[1]+=h);K();e=2>=oa(a,b.position);c&&(m=ca(a[0],a[1],0,0,C.s)?n:a,k=aa(f,m),N=f[0]>m[0]?-1:1,3<Math.abs(m[0]-f[0])||3<Math.abs(m[1]-f[1]))&&(f[0]+=1*Math.cos(k)*N,f[1]+=1*Math.sin(k)*N);((K(),2>=oa(a,b.position))||ga(a[0],a[1],0,0,C.A)||c&&3>oa(f,a))&&s<g&&(s=g+5E3,x(y.ha),w=0,u--,0>=u&&Ja())}d.L=X.getBoundingClientRect();q.fillStyle="black";q.fillRect(0,0,E,L);for(m=0;m<ia;m++)for(k=0;k<da;k++)wa(xa[ia*k+m],m*A,k*A);for(k=0;k<U.length;k++)k!==b.d&&(m=U[k],q.drawImage(m.ba,m.position[0]-
8,m.position[1]-8));for(k=0;k<ya.length;k++)m=ya[k],ba(F.ua,m.position[0]-8,m.position[1]-8);for(k=0;k<ra.length;k++)m=ra[k],ba(F.va,m.position[0]-8,m.position[1]-8);c&&ba(F.u,c[0],c[1]);if(d.k[p.v])for(m=0;m<d.k[p.v].length;m++){k=q;H=d.k[p.v][m][2];N=d.k[p.v][m][0];z=d.k[p.v][m][1];h=k.fillColor;l=k.textAlign;k.fillStyle="black";for(H=H.slice();0<H.length;)k.fillText(H.shift(),N,z),z+=10;k.fillStyle=h;k.textAlign=l}d.state===r.h?b.i?D(F.w,b.position[0]-8,b.position[1]-24,0,b.o):b.a?D(F.w,b.position[0]-
8,b.position[1]-24,10,b.o,g):D(F.w,b.position[0]-8,b.position[1]-24,1,b.o):D(F.w,b.position[0]-8,b.position[1]-24,1);void 0!==b.d&&(m=U[b.d],q.drawImage(m.ba,b.o?m.position[0]+2:m.position[0]-15-m.size,m.position[1]-10));e&&(q.beginPath(),q.arc(b.position[0],b.position[1],7*K()+25,0,360),q.lineWidth=2,q.strokeStyle="#f09",q.stroke());d.state===r.h?s>g&&0===Math.floor(g/100)%2||D(F.r,a[0]-8,a[1]-8,2,!1,g):D(F.r,a[0]-8,a[1]-8,0);c&&(q.fillStyle="red",q.fillRect(f[0]-1,f[1]-1,2,2),q.beginPath(),q.arc(f[0],
f[1],5,0,360),q.lineWidth=2,q.strokeStyle="red",q.stroke());d.state===r.h?(q.fillStyle="#00deff",q.fillText("BOY",10,396),q.fillStyle="red",q.fillText("CROW",600,12),q.fillStyle="white",q.fillText("SPEED: "+K()+"   BOOST: "+Math.max(0,Math.ceil((b.Q-g)/1E3))+"   TIME: "+Math.max(0,Math.ceil((d.time-g)/1E3))+"   CANDIES: "+b.C+"   CRATES: "+b.M,50,396),q.fillText("SHOTS: "+w+"   STUN: "+Math.max(0,Math.ceil((s-g)/1E3))+"   HEALTH: "+u,410,12)):d.state===r.e&&(q.fillStyle="white",q.fillText("< > CHANGE BLOCK   G: GRANNY   C: CRATES   T: TIME ("+
B[t][p.B]+")   N: NAME ("+B[t][p.K]+")"+($?"   1: PAINT   2: TOGGLE PAINT":""),12,12));d.state===r.f&&q.drawImage(Qa,0,0);d.state===r.e&&(q.globalAlpha=0.6,Q<ja?(wa(""+Q,v[0]-v[0]%A,v[1]-v[1]%A),q.strokeStyle="#000",q.strokeRect(v[0]-v[0]%A,v[1]-v[1]%A,A,A)):Q===Y.ka?D(F.w,v[0]-8,v[1]-24,1):Q===Y.r?D(F.r,v[0]-8,v[1]-8,0):Q===Y.u?ba(F.u,v[0],v[1]):Q===Y.j&&(q.fillStyle="yellow",q.fillRect(v[0]-8,v[1]-8,16,16),q.fillStyle="#000",q.fillText("C",v[0]-4,v[1]+4)),q.globalAlpha=1);window.requestAnimationFrame(I)})()})();

/* Mirror Delivery 1.0.1 http://github.com/4lbertoC/mirrordelivery */var la={};
(function(a){function w(a,c){return c?l(a&255)+w(a>>8,c-1):""}var n=this.ua=a||44100,u=2*n,l=String.fromCharCode,e;this.La=function(a){var c=Audio,l=btoa,h="",D=a.length;for(s=0;s<D;s++)var O=32767*a[s]|0,O=-32768>O?-32768:32767<O?32767:O,O=O+(0>O?65536:0),h=h+String.fromCharCode(O&255,O>>8);a=h;a=["RIFF",36+(e=a.length),"WAVEfmt ",16,1,1,n,u,2,16,"data",e,a];h="";for(s=0;s<a.length;s++)h+="s"=="s4s4224422s4s"[s]?a[s]:w(a[s],"s4s4224422s4s".charCodeAt(s)-48);return new c("data:audio/wav;base64,"+l(h))};
var h,s,A=Math.sin,c=2*Math.PI;this.filter=function(a,c,e,n,D,l,w,u,A,Q){e=e?e:1;n=n?n:a.length;h=a.slice(0);for(s=e;s<n;s++)h[s]=c(a,h,e,n,s,D,l,w,u,A,Q);return h};this.filters={Sa:function(a,c,e,n,D,h){return c[D-1]+h*(a[D]-c[D-1])},Ta:function(a,c,e,n,h,l){return c[h-1]+l*(n-h)/(n-e)*(a[h]-c[h-1])},Ra:function(a,c,e,n,h,l){return l*(c[h-1]+a[h]-a[h-1])}};this.wa=function(a,e,h,l,w,u,A,H,ma){e=e*c/n;var Q=Array(a|0);for(s=0;s<a;s++)Q[s]=h(s*e,l,w,u,A,H,ma);return Q};var H=0;this.M={Ma:function(a){4>
a%c&&(H=2*Math.random()-1);return H},Ua:Math.random,Oa:Math.sin,Pa:function(a){return A(a)+0.5*A(a/2)+0.3*A(a/4)},Na:function(a){return 2*(a/c-(a/c+0.5|0))},ya:function(a,c){return A(a)>c?1:A(a)<c?-1:c}}}).apply(la);var Ca={};
(function(){this.da=[];this.aa={square:la.M.ya,saw:la.M.Na,sine:la.M.Oa,noise:la.M.Ma,synth:la.M.Pa};this.Ha=function(){var a=[],w;for(w in this.aa)a.push(w);return a};this.Ia=function(){function a(a,e,h,u,A){void 0===A&&(A=(h-e)/1E3);a={name:a,id:a.replace(/ /g,""),min:e,max:h,step:A,Ga:u,type:"range",group:n};w.push(a)}var w=[],n=0,u=this.Ha();(function(a,e,h){a={name:a,id:a.replace(/ /g,""),options:e,Ga:h,type:"option",group:n};w.push(a)})("Generator",u,u[0]);a("SuperSamplingQuality",0,16,0,1);
a("MasterVolume",0,1,0.4);n++;a("AttackTime",0,1,0.1);a("SustainTime",0,2,0.3);a("SustainPunch",0,3,2);a("DecayTime",0,2,1);n++;a("MinFrequency",20,2400,0,1);a("StartFrequency",20,2400,440,1);a("MaxFrequency",20,2400,2E3,1);a("Slide",-1,1,0);a("DeltaSlide",-1,1,0);n++;a("VibratoDepth",0,1,0);a("VibratoFrequency",0.01,48,8);a("VibratoDepth Slide",-0.3,1,0);a("VibratoFrequencySlide",-1,1,0);n++;a("ChangeAmount",-1,1,0);a("ChangeSpeed",0,1,0.1);n++;a("SquareDuty",0,0.5,0);a("SquareDutySweep",-1,1,0);
n++;a("RepeatSpeed",0,0.8,0);n++;a("PhaserOffset",-1,1,0);a("PhaserSweep",-1,1,0);n++;a("LPFilterCutoff",0,1,1);a("LPFilterCutoffSweep",-1,1,0);a("LPFilterResonance",0,1,0);a("HPFilterCutoff",0,1,0);a("HPFilterCutoffSweep",-1,1,0);return w};this.wa=function(a){var w=2*Math.PI,n=Math.sin,u=Math.pow,l=Math.abs,e=la.ua,h=a.SuperSamplingQuality|0;1>h&&(h=1);for(var e=e*h,s=[{L:0,W:1,time:a.AttackTime},{L:1+a.SustainPunch,W:1,time:a.SustainTime},{L:1,W:0,time:a.DecayTime}],A=s.length,c=0;c<A;c++)s[c].U=
1+(s[c].time*e|0);for(var H=void 0,K=0,C=-1,ya=0,za=-1,D=0,c=0;c<A;c++)D+=s[c].U;D<e/2&&(D=e/2);var O=Array(D/h|0),P=0,sa=0,ma=Ca.aa[a.Generator];void 0===ma&&(ma=this.aa.ya);var Q=0,Q=a.SquareDuty,Da=a.SquareDutySweep/e,W=0,I=a.StartFrequency*w/e,fa=1+64*u(a.Slide,3)/e,X=u(a.DeltaSlide,3)/(1E3*e);void 0!==h&&(X/=h);a.MinFrequency>a.StartFrequency&&(a.MinFrequency=a.StartFrequency);a.MaxFrequency<a.StartFrequency&&(a.MaxFrequency=a.StartFrequency);for(var Ea=a.MinFrequency*w/e,Fa=a.MaxFrequency*w/
e,ga=0,ha=a.VibratoFrequency*w/e,da=a.VibratoDepth,ta=1+3*u(a.VibratoFrequencySlide,3)/e,ua=a.VibratoDepthSlide/e,na=0,va=a.ChangeSpeed*e,oa=u(a.ChangeAmount,2),oa=0<a.ChangeAmount?1+10*oa:1-0.9*oa,Aa=Array(1024),c=0;1024>c;c++)Aa[c]=0;var wa=0,E=1020*u(a.PhaserOffset,2),J=4E3*u(a.PhaserSweep,3)/e,x=1E-5<l(J)||1E-5<l(E),aa=0.0010<a.HPFilterCutoff||0.999>a.LPFilterCutoff,ia=0,F=0,Y=u(a.LPFilterCutoff,3)/10,Ma=1+a.HPFilterCutoffSweep/1E4,ja=5/(1+20*u(a.LPFilterResonance,2))*(0.01+a.LPFilterCutoff);
0.8<ja&&(ja=0.8);var ja=1-ja,Na=0.999>a.LPFilterCutoff,y=0,q=u(a.HPFilterCutoff,2)/10,G=1+a.HPFilterCutoffSweep/1E4,$=0,ba=D;0<a.RepeatSpeed&&(ba=u(1-a.RepeatSpeed,2)*e+32);for(var Ga=a.MasterVolume,Ha=0,c=0;c<D;c++)P=ma(W,Q,0),Q+=Da,0>Q?Q=0:0.5<Q&&(Q=0.5),$>ba&&(W=0,I=a.StartFrequency*w/e,fa=1+3*u(a.Slide,3)/e,X=u(a.DeltaSlide,3)/(1E3*e),void 0!==h&&(X/=h),na=0,va=a.ChangeSpeed*e,oa=1+(a.ChangeAmount|0)/12,$=0),$+=1,W+=I,fa+=X,I*=fa,na>va&&(I*=oa,va=D),na+=1,I>Fa?I=Fa:I<Ea&&(I=Ea),ga+=ha,H=I*n(ga)*
da,W+=H,ha*=ta,ua&&(da+=ua,0>da?ua=da=0:1<da&&(da=1,ua=0)),aa&&(0.0010<l(q)&&(q*=G,1E-5>q?q=1E-5:0.1<q&&(q=0.1)),H=ia,Y*=Ma,0>Y?Y=0:0.1<Y&&(Y=0.1),Na?(F+=(P-ia)*Y,F*=ja):(ia=P,F=0),ia+=F,y+=ia-H,P=y*=1-q),x&&(E+=J,0>E&&(E=-E,J=-J),1023<E&&(E=1023,J=0),Aa[wa]=P,P+=Aa[wa-(E|0)+1024&1023],wa=wa+1&1023),c>za&&(C+=1,H=C<A?s[C]:{L:0,W:0,U:D},K=H.L,ya=(H.W-H.L)/(H.U+1),za+=H.U),P*=K,K+=ya,P*=Ga,1<h?(sa+=P,0===(c+1)%h&&(O[Ha]=sa/h,Ha+=1,sa=0)):O[c]=P;a=e/100|0;w=Array(a);for(c=0;c<a;c++)w[c]=0;return w.concat(O).concat(w)};
this.da=this.Ia()}).apply(Ca);var Xa={};(function(){this.va=function(a){a=Ca.wa(this.Fa(a));return la.La(a)};this.Fa=function(a){for(var w={},n=Ca.da.length,u=0;u<n;u++)w[Ca.da[u].id]=a[u];return w}}).apply(Xa);(function(){var a,w,n,u;function l(f,a,b){f.addEventListener?f.addEventListener(a,b,!1):f.attachEvent?f.attachEvent("on"+a,b):f["on"+a]=b}function e(f,a,b,c,e,d){var g=Y[f].frame,h=Y[f].e;f=Y[f].frames;c=d?f[Math.floor(d*c/1E3)%f.length]:f[c];e?t.drawImage(Oa,ab-(g.x+c.x)-c.a,g.y+c.y,c.a,c.b,a+h.x,b+h.y,c.a,c.b):t.drawImage(pa,g.x+c.x,g.y+c.y,c.a,c.b,a+h.x,b+h.y,c.a,c.b)}function h(f,a,b,c,e){var d=Y[f].frame;f=Y[f].e;t.drawImage(pa,d.x,d.y,c||d.a,e||d.b,a+f.x,b+f.y,f.a,f.b)}function s(f){var a=f.clientX-
d.T.left;f=f.clientY-d.T.top;a=Math.max(0,Math.min(a,E-1));f=Math.max(0,Math.min(f,J-1));return[a,f]}function A(f){ca.style.cursor=f?"auto":"none"}function c(f,a){if(ja)try{Ia[f]=Xa.va(a)}catch(b){}}function H(){try{d.state===q.h&&0<Pa.length&&(bb[Pa.shift()].play(),setTimeout(H,200))}catch(f){}}function K(f){if(ja)try{Ia[f]&&(Ia[f].pause(),Ia[f].currentTime=0,Ia[f].play())}catch(a){}}function C(f,a){var b=document.getElementById(f);l(b,Ja,function(){T.P({keyCode:a})});l(b,Qa,function(){T.Q({keyCode:a})})}
function ya(f,a,b){f=document.getElementById(f);l(f,Ja,a);l(f,Qa,b)}function za(f){var a=f[r.X],b,c,d,e;Ra.R=a;for(var g=M.length=0;g<f[r.k].length;g++)b=f[r.k][g],c=Object.create(Ra),c.size=b,d=document.createElement("canvas"),d.width=Sa+b,d.height=Sa+b,e=d.getContext("2d"),e.fillStyle="yellow",e.fillRect(0,0,Sa+b,Sa+b),e.fillStyle="#000",e.fillText(b,5,10),c.ga=d,d=a[0]+16*g,b=a[1]-b,c.position=[d,b],c.R=[d,b],M.push(c)}function D(f){f=d.l=B[f]||B[v];b.position=f[r.ca].slice();b.I=0;b.ha=0;b.c=
void 0;b.J=cb;b.p=!1;b.v=!1;b.m=!1;b.i=!1;b.u=!1;g.N=db;g.j=0;g.w=0;g.position=f[r.$].slice();a=f[r.B].slice();w=[f[r.B][0]+15,f[r.B][1]+23];n=w.slice();u=1;N.position=N.g=null;d.time=0;O(q.f);R=0;ea="4444444444444444444444444444444444444444"+f[r.ba]+"4444444444444444444444444444444444444444";ea=ea.split("");Ba=null;za(f);xa.length=0;qa.length=0;L.clearRect(0,0,E,J);L.fillStyle="rgba(0,0,0,0.7)";L.fillRect(0,0,E,J);L.fillStyle="#fff";L.textAlign="center";L.fillText("A 13kB game by Alberto Congiu",
E/2,12);L.font="20px courier";L.fillText(d.l[r.F],E/2,J/2-50);L.fillText("Luke "+d.ea+" - "+d.fa+" Crow",E/2,J/2);L.font="15px courier";L.fillText("Click the "+(Z?"screen":"crow")+" to start",E/2,J/2+60);L.fillText("< >: Select level",E/2,J/2+100);L.fillText(f[r.S]?"E: EDIT   "+(Z?"S":"D")+": DELETE   "+(Z?"A":"J")+": EXPORT   I: IMPORT":"E: EDIT   I: IMPORT",E/2,J/2+120);L.beginPath();L.arc(g.position[0],g.position[1],16,0,360);L.lineWidth=2;L.strokeStyle="#fff";L.stroke();Pa=Na.slice();window.localStorage&&
(window.localStorage.qa=JSON.stringify(B))}function O(f){d.state=f;if(Z){var a=document.getElementsByClassName("edit");f="btn edit"+(f===q.d?"":" h");for(var b=0;b<a.length;b++)a[b].setAttribute("class",f)}}function P(){O(q.h);d.time=Ka+d.l[r.H];ja&&H();A()}function sa(){d.ea+=1;A(!0);K(y.ta);D(v)}function ma(){d.fa+=1;A(!0);K(y.ma);D(v)}function Q(a,b){return Math.round(a[0]/x)===Math.round(b[0]/x)&&Math.round(a[1]/x)===Math.round(b[1]/x)}function Da(a,b){return Math.atan((b[1]-a[1])/(b[0]-a[0]))}
function W(a,b){return a&&b&&Math.sqrt(Math.pow(a[0]-b[0],2)+Math.pow(a[1]-b[1],2))}function I(a,b){return ea[aa*Math.floor(b/x)+Math.floor(a/x)]}function fa(a,b,c,d,e){var g=b,h=I(a,g);c=a+c;topRight=I(c,g);bottomRight=I(c,b+d);bottomLeft=I(a,b);return h===e||topRight===e||bottomRight===e||bottomLeft===e}function X(a,b,c,d,e){b+=d;d=I(a,b);bottomLeft=I(a+c,b);return d===e||bottomLeft===e}function Ea(){A(!0);d.state===q.d&&(B[v][r.ba]=ea.join("").substring(aa,aa*ia-aa),B[v][r.ca]=b.position.slice(),
B[v][r.$]=g.position.slice(),B[v][r.B]=a.slice(),B[v][r.X]=Ra.R.slice());D(v)}function Fa(){var a=b.K,c=ga();b.m||(a=0);a=Math.min(c,a+c/25);b.K=a;return ha(G.o)?c/2:a}function ga(){return Math.max(1,b.speed+b.V-(void 0!==b.c?M[b.c].size:0))}function ha(a){return fa(b.position[0]-8,b.position[1]-32,16,32,a)||fa(b.position[0],b.position[1]-8,0,0,a)}function da(a){a.preventDefault();if(d.state===q.d)Ya=!Ya;else if(d.state===q.h&&g.w<Ka)if(a=s(a),(X(g.position[0]-8,g.position[1]-8,16,16,G.s)||fa(g.position[0],
g.position[1],0,0,G.s))&&g.j<Ha)K(y.Z),g.j++;else{var b;for(b=0;b<xa.length;b++)if(Q(a,xa[b].position)){g.j=Math.max(g.j,lb);K(y.Z);xa.splice(b,1);break}}}function ta(){if(d.state===q.d)if(R<$){var f=aa*Math.floor(z[1]/x)+Math.floor(z[0]/x);f<ea.length&&(ea[f]=""+R)}else if(R===ba.ra)b.position=z.slice();else if(R===ba.r)g.position=z.slice();else if(R===ba.A)a=z.slice(),w=[a[0]+15,a[1]+23],n=w.slice();else{if(R===ba.k)for(Ra.R=z.slice(),f=0;f<M.length;f++){var c=M[f];c.position[0]=z[0]+16*f;c.position[1]=
z[1]-c.size}}else d.state!==q.f||Z?0<g.j&&g.w<Ka&&(g.j--,K(y.la),f=Object.create(mb),f.position=g.position.slice(),qa.push(f)):z[0]>g.position[0]-16&&(z[0]<g.position[0]+16&&z[1]>g.position[1]-16&&z[1]<g.position[1]+16)&&P()}function ua(a){g.w=a+nb;K(y.oa);g.j=0;g.N--;0>=g.N?sa():g.N<eb&&na(a)}function na(a){if(!Ba){Ba=[];for(var b=0;b<ea.length;b++)ea[b]===G.t&&Ba.push(b);K(y.ja)}b=Ba[Math.floor(Math.random()*Ba.length)]+1;b=[b%aa*x,Math.floor(b/aa)*x];N.g=[b[0]-6,b[1]-10];N.position||(N.position=
N.g.slice());N.xa=a+ob;u+=0.05}function va(a,c){K(y.sa);b.c=void 0;a.position=a.R.slice();b.J--;0>=b.J?ma():b.J<eb&&na(c)}function oa(a){var b=a||B[v];a=[a?b[r.F]:"CustomLevel"+pb++,b[r.ca].slice(),b[r.$].slice(),b[r.X].slice(),b[r.B].slice(),b[r.H],b[r.ba],b[r.k].slice(),null,!0];B.push(a);d.state===q.f&&(v=B.length-1,D(v))}function Aa(a,b,c){var d=null,e=N.position?"#c29":"#00deff";a===G.t?d=F.t:a===G.G?d=F.G:a===G.Ea?e="#000":a===G.na?e="#0f0":a===G.s?d=F.s:a===G.o?d=F.o:a===G.n&&(d=F.n);t.fillStyle=
e;t.fillRect(b,c,x,x);null!==d&&h(d,b,c,x,x)}function wa(a){if(a.position&&a.g){var b=Da(a.position,a.g),c=a.position[0]>a.g[0]?-1:1,d=Math.abs(a.position[0]-a.g[0]),e=Math.abs(a.position[1]-a.g[1]);if(3<d||3<e){var g=16*Math.cos(b)*c,b=16*Math.sin(b)*c;Math.abs(g)>d&&(g=d*g/Math.abs(g));Math.abs(b)>e&&(b=e*b/Math.abs(b));a.position[0]+=g;a.position[1]+=b}}}var E=640,J=400,x=16,aa=E/x,ia=J/x,F={r:0,Ca:1,n:2,A:3,o:4,D:5,s:6,G:7,Da:8,t:9,za:10,Aa:11},Y=[{frame:{x:30,y:0,a:30,b:14},e:{x:1,y:1,a:30,b:14},
frames:[{x:1,y:1,a:15,b:11},{x:17,y:1,a:15,b:13}]},{frame:{x:14,y:40,a:14,b:8},e:{x:1,y:7,a:14,b:8}},{frame:{x:32,y:14,a:16,b:16},e:{x:0,y:0,a:16,b:16}},{frame:{x:0,y:24,a:14,b:24},e:{x:1,y:7,a:14,b:24}},{frame:{x:16,y:48,a:16,b:16},e:{x:0,y:0,a:16,b:16}},{frame:{x:0,y:0,a:30,b:24},e:{x:1,y:3,a:30,b:24},frames:[{x:0,y:0,a:15,b:24},{x:16,y:0,a:13,b:24}]},{frame:{x:48,y:14,a:16,b:10},e:{x:0,y:10,a:16,b:10}},{frame:{x:14,y:24,a:16,b:16},e:{x:0,y:0,a:16,b:16}},{frame:{x:31,y:32,a:6,b:14},e:{x:4,y:1,a:6,
b:14}},{frame:{x:0,y:48,a:16,b:16},e:{x:0,y:0,a:16,b:16}},{frame:{x:36,y:32,a:11,b:13},e:{x:0,y:0,a:12,b:13}},{frame:{x:49,y:25,a:15,b:16},e:{x:0,y:0,a:15,b:16}}],Ma=[523.25,587.33,659.26,698.46,783.99,880,987.77,1046.5,1108.73],ja=!(!window.btoa||!window.atob),Na="023123467".split(""),y={pa:0,sa:1,la:2,Ba:3,Y:4,ka:5,ta:6,ma:7,ia:8,Z:9,n:10,oa:11,ja:12},q={f:0,h:1,d:2},G={EMPTY:"0",t:"1",o:"2",G:"3",Ea:"4",na:"5",s:"6",n:"7"},$=8,ba={ra:$+0,r:$+1,A:$+2,k:$+3},Ga=$+4,Ha=3,lb=5,nb=5E3,db=10,eb=4,ob=
2E3,cb=10,Sa=12,fb=[1,-6],r={F:0,ca:1,$:2,X:3,B:4,H:5,ba:6,k:7,C:8,S:9},ca=document.getElementById("C"),t=ca.getContext("2d"),pa=new Image,Oa=document.createElement("canvas"),ab=0,Ta=document.createElement("canvas"),L=Ta.getContext("2d"),Ia=[],bb={},Pa=null,z=[0,0],Ua=!1,U=!1,T={O:{},Q:function(a){T.O[a.keyCode]=void 0},P:function(a){T.O[a.keyCode]=Ka}},Z=!1,La=document.getElementById("o"),ka=La.getBoundingClientRect(),gb=[100,100],Za=!1,ra=null,Ja=null,Qa=null,hb=null,Ka=0,d={state:q.f,T:ca.getBoundingClientRect(),
time:0,ea:0,fa:0,l:null},ea=[],Ba=null,R=0,Ya=!1,b={position:null,speed:4,K:0,V:0,ha:0,Ka:2,Ja:-7,v:!1,i:!1,m:!1,p:!1,q:0,c:void 0,I:0,J:cb,Qa:!1},g={position:null,g:null,j:0,w:0,N:db};n=w=a=null;u=1;var N={position:null,g:null,xa:0},Ra={ga:null,size:1,position:null,R:[0,0]},M=[],qb={position:null},xa=[],mb={position:null,speed:6},qa=[],ib=[["Tutorial",[33,370],[E-24,55],[300,365],[20,70],3E6,"00000000000000000000000000000000000000000000000000000000000000000000000000000000330000000000000000000000000000000000006000000000000000000000000000000000000000110000000000033300000000000006000000000000110000000003330000000000001110000000000000000000000333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003333333333333333333333333333333333333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005500000000000000000000000000000000000000550000000000007000000000000002000000000111111111111111111111111111111200000000000000000000000000000000000000020000000000000000000000000000000000000002000000000000000000000000000000000000000200000000000000000000000000000000000000020000000001111111111111111111111111111111111111111",
[1],[[20,340,["PLAYER 1"]],[100,340,["ARROWS: move/jump"]],[250,340,[(Z?"I":"SPACEBAR")+": grab/release crate"]],[500,340,["UP/DOWN: Climb"]],[450,250,["Crates break if you fall from too high"]],[160,250,[(Z?"I":"SPACEBAR")+": buy candies when not holding crate","E: Use candy to gain speed"]],[10,230,["Deliver crate to green area"]],[560,30,["PLAYER 2",(Z?"analogPad":"Mouse")+": move"]],[390,80,["Hide from granny in nest"]],[390,130,[(Z?"A":"RClick")+": eat from nest or crumbs",(Z?"S":"LClick")+": shoot!"]],
[150,70,["Don't touch roofs or Luke"]]]],["Level 1",[25,366],[616,24],[41,364],[513,180],6E4,"00000000000000000000000000000000000000600000000000000000000000000000000000000011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000003330000000000000000000000000000000000003333300000000000000000000000000000000000000000000000000000000000000000000000000000550000020000000000000200000000000000000055020002000111111111120000333000000000111112000200133333330002000000000000000000000200021130000000000200000000000000000000020002000000000000020000000000000000000002000200020000000002111111100111001101111100111112000000000200000000000000000000000033333200000000000000000000000000000000000000020000000000000000000000000000000000000002000000000000000000000000000000000000000200000000000000000000000000000000001111111111111111111111111111111111111111",
[1,2]],["Level 2",[28,143],[600,296],[588,365],[51,50],12E4,"33330000000000000000000000000000000000000000000000000033000000000330000000000000055000000000000000000000000000000000000005500000000000000003030000000000000000001111111000000000000030000000000000110010000000010000000000000000000000000100301000000000000200000200000200000200000000100000000011120111102000201111021113002010111100000002000000020200000002000000211100000000000100000000200000000100000020000000000000000000000000000000000002002000000000000000000000000000000000030211100000001110000000000000000000000030020000000000000000000000003333300000000002000000000000000000000000000000000003020200000000000001100000000000000000000002110000000000000000000000000020700000020200000000000000000000000000112110000002020000060000000000010000000000200000000201000011100000000000000000000020000000020000000000000000000000000000002000000002000000000000000000000000000000200000000200000000001111111111111111111111111111111111111111",
[1,2]],["Level 3",[17,349],[281,39],[96,316],[49,163],24E4,"00000000000000010001000000000000000000000000000000300001666100003000000000000020000000000003000111110003000000000007002000000000000030000000003000000000001110203000000000000000000000000000000000000020332200000000000000000000000000000000002033202000000000000000000000000000000000203320320000000000222000000000000000000020332033111001111100011111000110011001102055200000000000000000000000000110011000205520000000000000000000000000000000000020111100000000000000000000000000000000002000000000000000030003000000000220022000200000000000000030000030000200000000000020000000000000000300030000020000000000002000003030300000000200000002011001100110200003030303030303020000000200011001100020000000000030303032111111000000000000000000000000000000000203030303030000000000000000011100070000023030303030300000000000000000000011100002000000000000000000000011110000000000000200000000000000000000001111111111111111111111111111111111111111",
[1,2]],["Level 4",[75,370],[E-24,24],[83,365],[80,53],3E5,"33333300000000000000000000000000000000600000000000000000000000000000000000000011055000000000000000000000003333000000000005500000000000000002000000000000000000001111110010011001111201110011110000000000000000000003300000020000000000100000000000000000000000000702000000000001000000000001110000000000111111000000000010020000002000000000000033333330000333330102100000200033333300000000000000000000000200000020000000000000000000000000000000020000002000000000000010010010011000020202000000201111111111111000000033311001111211100020033333333330000000000003300000033333002000000000000000000000000000000000000000200000000000000000200000000000020000000020111100111110011120111001111112011111002000000000000000002000000303030200000000000000000000000000207000000000020000000000333330003030300011110000200002000000000000000000000000000000000021111200000000000000000000000000000000002000000000001111111111111111111111111111111111111111",
[1,2,3]]],B=window.localStorage&&window.localStorage.qa&&JSON.parse(window.localStorage.qa)||ib,pb=B.length-ib.length+1,v=0;(function(){for(var a=0,b=["webkit","moz"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);a=c+d;return e})})();if("ontouchstart"in document.documentElement||
window.navigator.msMaxTouchPoints)for(var Z=!0,Ja=window.navigator.msMaxTouchPoints?"MSPointerDown":"touchstart",Qa=window.navigator.msMaxTouchPoints?"MSPointerUp":"touchend",hb=window.navigator.msMaxTouchPoints?"MSPointerMove":"touchmove",$a=document.getElementsByClassName("btn"),Va=0;Va<$a.length;Va++)-1===$a[Va].getAttribute("class").indexOf("edit")&&$a[Va].setAttribute("class","btn");pa.onload=function(){Oa.width=ab=pa.naturalWidth;Oa.height=pa.naturalHeight;var a=Oa.getContext("2d");a.translate(pa.naturalWidth,
0);a.scale(-1,1);a.drawImage(pa,0,0)};pa.src="imgmap.png";Ta.width=E;Ta.height=J;for(var Wa=0;Wa<Ma.length;Wa++)bb[Wa]=Xa.va(["synth",0,0.4,0,0.208,0,0.12,20,Ma[Wa],2400,0,0,0,0.01,3E-4,0,0,0,0,0,0,0,0,1,0,0,0.1,0]);Pa=Na.slice();c(y.pa,["square",0,0.4,0,0.174,0,0.28,20,497,2400,0.22,0,0,0.01,3E-4,0,0,0,0.0665,0,0,0,0,0.783,0,0,0,0]);c(y.sa,["noise",0,0.4,0,0.14,0.405,0.116,20,479,2400,-0.07,0,0,0.01,3E-4,0,0,0,0,0,0,-0.086,-0.122,1,0,0,0,0]);c(y.ka,["square",0,0.4,0,0.098,0.504,0.282,20,1582,2400,
0,0,0,0.01,3E-4,0,0,0,0,0,0,0,0,1,0,0,0,0]);c(y.ia,["saw",0,0.4,0,0.324,0,0.284,20,631,2400,0.172,0,0.498,19.35,3E-4,0,0,0,0,0,0,0,0,1,0,0,0,0]);c(y.la,["saw",0,0.4,0,0.212,0,0.028,20,1169,2400,-0.52,0,0,0.01,3E-4,0,0,0,0.5,-0.592,0,0.094,0.066,1,0,0,0.28,0]);c(y.ma,["synth",0,0.4,0,0.32,0.348,0.44,20,372,417,0,0,0,0.01,3E-4,0,0.374,0.264,0,0,0,0,0,1,0,0,0,0]);c(y.ta,["synth",0,0.4,0,0.13,0.345,0.41,253,1168,1407,-0.0060,-0.082,0,0.01,3E-4,0,0.206,0.166,0,0,0,0,0,1,0,0,0,0]);c(y.Y,["noise",0,0.4,
0,0.0020,0.024,0.09,20,372,2400,0,0,0,0.01,3E-4,0,-0.342,0.809,0,0,0,0,0,1,0,0,0,0]);c(y.Ba,["noise",0,0.4,0,0.152,0.393,0.274,20,839,2400,-0.31,0,0,0.01,3E-4,0,-0.34,0.783,0,0,0.6096,0.526,-0.0080,1,0,0,0,0]);c(y.Z,["square",0,0.4,0,0.04,0,0.048,20,578,2400,0.104,0,0.683,19.158,3E-4,0,0,0,0.385,0,0,0,0,1,0,0,0,0]);c(y.n,["square",0,0.4,0,0.046,0.477,0.24,20,1197,2400,0,0,0,0.01,3E-4,0,0.498,0.204,0,0,0,0,0,1,0,0,0,0]);c(y.oa,["noise",0,0.4,0,0.108,0.336,0.124,20,462,2400,0,0,0,0.01,3E-4,0,0,0,0,
0,0,0,0,1,0,0,0,0]);c(y.ja,["synth",0,0.4,0,0.44,0.579,1.004,20,1793,2400,-0.202,0,0,8.6962,0.5346,0.666,-0.298,0.671,0,0,0,0,0,1,0,0,0,0]);window.addEventListener("keyup",T.Q,!1);window.addEventListener("keydown",T.P,!1);if(Z){l(ca,Ja,function(){d.state===q.f&&P()});ya("s",function(){d.state===q.f?T.P({keyCode:68}):ta()},function(){T.Q({keyCode:68})});ya("a",function(a){d.state===q.f?T.P({keyCode:74}):da(a)},function(){T.Q({keyCode:74})});ya("i",function(){T.P({keyCode:d.state===q.f?73:32})},function(){T.Q({keyCode:d.state===
q.f?73:32})});C("x",27);C("e",69);C("l",37);C("u",38);C("r",39);C("d",40);C("c",67);C("t",84);C("n",78);var jb=function(a){a.preventDefault();ra=a.changedTouches||a;ka=La.getBoundingClientRect();Za=!0};l(La,Ja,jb);l(La,hb,jb);l(La,Qa,function(a){a.preventDefault();Za=!1});l(document.body,"contextmenu",function(a){a.preventDefault()})}else l(ca,"click",ta),l(ca,"contextmenu",da),l(ca,"mousedown",function(a){1===a.which&&(Ua=!0);d.state===q.d&&Ua&&ta()}),l(ca,"mouseup",function(a){1===a.which&&(Ua=
!1)}),l(ca,"mousemove",function(a){var b=s(a);z=[b[0],b[1]];d.state===q.h?(a=s(a),g.g=a.slice()):d.state===q.d&&Ua&&ta()});D(v);(function kb(c){var s=c,l=ga(),A=b.Ka,H=b.position[0],I=b.position[1],p=T.O;if(d.state===q.f)if(p[37]&&!U)v=(v+B.length-1)%B.length,D(v);else if(p[39]&&!U)v=(v+1)%B.length,D(v);else if(p[69]&&!U)B[v][r.S]||oa(),O(q.d),p[69]=void 0;else if(p[68]&&!U)B[v][r.S]&&(B.splice(v,1),v--,D(v)),p[68]=void 0;else if(p[74]&&B[v][r.S]&&!U)l=prompt("Data",JSON.stringify(B[v])),p[74]=void 0;
else{if(p[73]){if(l=prompt("Data"))try{oa(JSON.parse(l))}catch(L){alert("Error!")}p[73]=void 0}}else{if(d.state===q.d)if(p[37]&&!U)R=(R+Ga-1)%Ga;else if(p[39]&&!U)R=(R+1)%Ga;else if(p[67]&&!U){try{var S=JSON.parse(prompt("Crates",JSON.stringify(B[v][r.k])));if(S instanceof Array){for(l=0;l<S.length;l++)"number"===!typeof l&&alert("Error!"),S[l]=Math.max(1,Math.min(5,S[l]));B[v][r.k]=S;za(B[v])}}catch(P){alert("Error!")}p[67]=void 0}else p[78]&&!U?((l=prompt("Name",B[v][r.F]))&&(B[v][r.F]=l),p[78]=
!1):p[84]&&!U?(s=+prompt("Time",B[v][r.H]),!isNaN(s)&&0<s&&(B[v][r.H]=s),p[84]=!1):p[69]&&!U&&(Ea(),p[69]=void 0);else if(d.state===q.h){if(!p[32]||b.v||b.i||b.p)p[69]&&!b.p?(b.p=!0,0<b.I&&(b.I--,b.V=3,b.ha=s+5E3,S=Object.create(qb),S.position=[b.position[0]+4,b.position[1]-7],xa.push(S),K(y.ia))):p[32]||(p[69]||!b.p)||(b.p=!1);else a:if(b.p=!0,S=b.c,s=void 0!==S?M[S]:void 0,void 0===s){for(S=0;S<M.length;S++)if(Q(b.position,M[S].position)){b.c=S;K(y.Y);break a}ha(G.n)&&(b.I=3,K(y.n))}else b.c=void 0,
K(y.Y),ha(G.na)&&void 0!==s&&(M.splice(S,1),0>=M.length?sa():K(y.ka));p[38]?ha(G.o)?(b.position[1]=Math.min(J-x,I-A),b.m=!0):b.v||b.i||(b.q=b.Ja,b.K=l,b.v=!0,b.i=!0,K(y.pa)):!p[38]&&b.v&&(b.v=!1);p[37]?(b.position[0]=Math.max(x,H-Fa()),b.m=!0,b.u=!0):p[39]&&(b.position[0]=Math.min(E-2*x,H+Fa()),b.m=!0,b.u=!1);p[40]&&ha(G.o)&&(b.position[1]=Math.min(J,I+A),b.m=!0);p[37]||p[39]||(b.m=!1)}p[27]&&Ea()}U=!1;for(var C in T.O)U=U||!!T.O[C];U&&console.log("a key is pressed");Ka=c;if(Za&&ra){var V;if(ra.clientX)V=
ra;else if(ra instanceof TouchList)for(C=0;C<ra.length;C++)if(p=ra[C],p.clientX>=ka.left&&p.clientX<ka.left+ka.width&&p.clientY>=ka.top&&p.clientY<ka.top+ka.height){V=ra[C];break}if(V){V=[V.clientX-ka.left,V.clientY-ka.top];p=Da(gb,V);C=W(gb,V)/12.5;var k;d.state===q.h?k=g.position:d.state===q.d&&(k=z);k&&(k[0]+=(d.state===q.d?Math.round(Math.cos(p)):Math.cos(p))*(100>V[0]?-C:C),k[1]+=(d.state===q.d?Math.round(Math.sin(p)):Math.sin(p))*(100>V[0]?-C:C),k[0]=Math.max(0,Math.min(k[0],E-1)),k[1]=Math.max(0,
Math.min(k[1],J-1)));Ya&&ta()}}if(d.state===q.h){d.T=ca.getBoundingClientRect();k=2;var m;if(!b.i&&X(b.position[0]-4,b.position[1],8,0,G.t))m=b.position[1]-b.position[1]%x;else for(;k<=b.q;){if(X(b.position[0]-4,b.position[1]+k,8,0,G.t)){m=b.position[1]+k-(b.position[1]+k)%x;break}k+=x}m?(b.position[1]=m,b.i&&(b.K/=2,(m=void 0!==b.c&&M[b.c])&&b.q>15-m.size&&va(m,c)),b.i=!1,b.q=0):X(b.position[0]-4,b.position[1]-32,8,16,G.o)?b.i=!1:(b.q+=0.6,b.i=!0,b.position[1]+=b.q);void 0!==b.c&&(M[b.c].position[0]=
b.position[0]+fb[0],M[b.c].position[1]=b.position[1]+fb[1]);b.ha<c&&0<b.V&&(b.V=0);for(m=0;m<qa.length;m++)if(k=qa[m],k.position[1]+=k.speed,Q(b.position,k.position)&&void 0!==b.c)va(M[b.c],c),qa.splice(m,1),m--;else if(k.position[1]>J||X(k.position[0],k.position[1],0,0,G.G))qa.splice(m,1),m--;d.time<c&&ma();wa(g);N.position&&(void 0!==b.c&&15>W(b.position,N.position)&&va(M[b.c],c),15>W(g.position,N.position)&&ua(c),N.xa<c&&na(c),wa(N));m=X(g.position[0],g.position[1],0,0,G.s)?w:g.position;k=Da(n,
m);V=n[0]>m[0]?-1:1;if(3<Math.abs(m[0]-n[0])||3<Math.abs(m[1]-n[1]))n[0]+=Math.cos(k)*V*u,n[1]+=Math.sin(k)*V*u;(7*ga()+25>=W(g.position,b.position)||fa(g.position[0],g.position[1],0,0,G.G)||3>W(n,g.position))&&g.w<c&&ua(c)}d.T=ca.getBoundingClientRect();t.fillStyle="#000";t.fillRect(0,0,E,J);for(m=0;m<aa;m++)for(k=0;k<ia;k++)Aa(ea[aa*k+m],m*x,k*x);for(k=0;k<M.length;k++)k!==b.c&&(m=M[k],t.drawImage(m.ga,m.position[0]-8,m.position[1]-8));for(k=0;k<xa.length;k++)m=xa[k],h(F.Ca,m.position[0]-8,m.position[1]-
8);for(k=0;k<qa.length;k++)m=qa[k],h(F.Da,m.position[0]-8,m.position[1]-8);h(F.A,a[0],a[1]);if(d.l[r.C])for(m=0;m<d.l[r.C].length;m++){k=t;A=d.l[r.C][m][2];V=d.l[r.C][m][0];l=d.l[r.C][m][1];p=k.fillColor;C=k.textAlign;k.fillStyle="#000";for(A=A.slice();0<A.length;)k.fillText(A.shift(),V,l),l+=10;k.fillStyle=p;k.textAlign=C}N.position&&h(5<W(N.position,N.g)?F.Aa:F.za,N.position[0]-8,N.position[1]);d.state===q.h?b.i?e(F.D,b.position[0]-8,b.position[1]-24,0,b.u):b.m?e(F.D,b.position[0]-8,b.position[1]-
24,10,b.u,c):e(F.D,b.position[0]-8,b.position[1]-24,1,b.u):e(F.D,b.position[0]-8,b.position[1]-24,1);void 0!==b.c&&(m=M[b.c],t.drawImage(m.ga,b.u?m.position[0]+2:m.position[0]-15-m.size,m.position[1]-10));7*ga()+75>=W(g.position,b.position)&&(t.beginPath(),t.arc(b.position[0],b.position[1],7*ga()+25,0,360),t.lineWidth=2,t.strokeStyle="#f09",t.stroke());d.state===q.h?g.w>c&&0===Math.floor(c/100)%2||e(F.r,g.position[0]-8,g.position[1]-8,2,!1,c):e(F.r,g.position[0]-8,g.position[1]-8,0);t.fillStyle="red";
t.fillRect(n[0]-1,n[1]-1,2,2);t.beginPath();t.arc(n[0],n[1],5,0,360);t.lineWidth=2;t.strokeStyle="red";t.stroke();t.fillStyle="white";d.state===q.h?(t.fillText("\u2699 "+Math.max(0,Math.ceil((d.time-c)/1E3))+"   \u00a7 "+b.I+"   \u25fc "+b.J,50,396),t.fillText("\u21a1 "+g.j+"   \u2665 "+g.N,530,12),t.fillStyle="#00deff",t.fillText("LUKE",10,396),t.fillStyle="red",t.fillText("CROW",600,12)):d.state===q.d&&t.fillText("< > CHANGE BLOCK   C: CRATES   T: TIME ("+B[v][r.H]+")   N: NAME ("+B[v][r.F]+")"+
(Z?"   S: PAINT   A: TOGGLE PAINT   analogPad: MOVE":""),12,12);d.state===q.f&&t.drawImage(Ta,0,0);d.state===q.d&&(t.globalAlpha=0.6,R<$?(Aa(""+R,z[0]-z[0]%x,z[1]-z[1]%x),t.strokeStyle="#000",t.strokeRect(z[0]-z[0]%x,z[1]-z[1]%x,x,x)):R===ba.ra?e(F.D,z[0]-8,z[1]-24,1):R===ba.r?e(F.r,z[0]-8,z[1]-8,0):R===ba.A?h(F.A,z[0],z[1]):R===ba.k&&(t.fillStyle="yellow",t.fillRect(z[0]-8,z[1]-8,16,16),t.fillStyle="#000",t.fillText("C",z[0]-4,z[1]+4)),t.globalAlpha=1);window.requestAnimationFrame(kb)})()})();
